(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.IpfsHttpClient = factory()}(typeof self !== 'undefined' ? self : this, function () {
var IpfsHttpClient=(()=>{var Xs=Object.defineProperty;var Wy=r=>Xs(r,"__esModule",{value:!0});var Js=r=>{if(typeof require!="undefined")return require(r);throw new Error('Dynamic require of "'+r+'" is not supported')};var I=(r,e)=>()=>(r&&(e=r(r=0)),e);var u=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),k=(r,e)=>{Wy(r);for(var t in e)Xs(r,t,{get:e[t],enumerable:!0})};function Qs(r,e,t){e=e||[],t=t||0;for(var n=t;r>=Jy;)e[t++]=r&255|Zs,r/=128;for(;r&Xy;)e[t++]=r&255|Zs,r>>>=7;return e[t]=r|0,Qs.bytes=t-n+1,e}function Pn(r,e){var t=0,e=e||0,n=0,i=e,s,o=r.length;do{if(i>=o)throw Pn.bytes=0,new RangeError("Could not decode varint");s=r[i++],t+=n<28?(s&eo)<<n:(s&eo)*Math.pow(2,n),n+=7}while(s>=Qy);return Pn.bytes=i-e,t}var Ky,Zs,Yy,Xy,Jy,Zy,Qy,eo,e0,t0,r0,n0,i0,s0,o0,a0,c0,u0,l0,f0,Xt,to=I(()=>{Ky=Qs,Zs=128,Yy=127,Xy=~Yy,Jy=Math.pow(2,31);Zy=Pn,Qy=128,eo=127;e0=Math.pow(2,7),t0=Math.pow(2,14),r0=Math.pow(2,21),n0=Math.pow(2,28),i0=Math.pow(2,35),s0=Math.pow(2,42),o0=Math.pow(2,49),a0=Math.pow(2,56),c0=Math.pow(2,63),u0=function(r){return r<e0?1:r<t0?2:r<r0?3:r<n0?4:r<i0?5:r<s0?6:r<o0?7:r<a0?8:r<c0?9:10},l0={encode:Ky,decode:Zy,encodingLength:u0},f0=l0,Xt=f0});var _r={};k(_r,{decode:()=>wt,encodeTo:()=>at,encodingLength:()=>ct});var wt,at,ct,xr=I(()=>{to();wt=r=>[Xt.decode(r),Xt.decode.bytes],at=(r,e,t=0)=>(Xt.encode(r,e,t),e),ct=r=>Xt.encodingLength(r)});var Ir={};k(Ir,{coerce:()=>be,empty:()=>ro,equals:()=>Cn,fromHex:()=>d0,fromString:()=>Nn,isBinary:()=>p0,toHex:()=>h0,toString:()=>On});var ro,h0,d0,Cn,be,p0,Nn,On,Ye=I(()=>{ro=new Uint8Array(0),h0=r=>r.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),d0=r=>{let e=r.match(/../g);return e?new Uint8Array(e.map(t=>parseInt(t,16))):ro},Cn=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},be=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},p0=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),Nn=r=>new TextEncoder().encode(r),On=r=>new TextDecoder().decode(r)});var Zt={};k(Zt,{Digest:()=>bt,create:()=>Jt,decode:()=>Un,equals:()=>Ln});var Jt,Un,Ln,bt,Qt=I(()=>{Ye();xr();Jt=(r,e)=>{let t=e.byteLength,n=ct(r),i=n+ct(t),s=new Uint8Array(i+t);return at(r,s,0),at(t,s,n),s.set(e,i),new bt(r,t,e,s)},Un=r=>{let e=be(r),[t,n]=wt(e),[i,s]=wt(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new bt(t,i,o,e)},Ln=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&Cn(r.bytes,e.bytes),bt=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}}});function m0(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=i}var c=r.length,a=r.charAt(0),l=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function h(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var P=0,D=0,$=0,Y=S.length;$!==Y&&S[$]===0;)$++,P++;for(var le=(Y-$)*f+1>>>0,K=new Uint8Array(le);$!==Y;){for(var we=S[$],fe=0,ne=le-1;(we!==0||fe<D)&&ne!==-1;ne--,fe++)we+=256*K[ne]>>>0,K[ne]=we%c>>>0,we=we/c>>>0;if(we!==0)throw new Error("Non-zero carry");D=fe,$++}for(var he=le-D;he!==le&&K[he]===0;)he++;for(var yt=a.repeat(P);he<le;++he)yt+=r.charAt(K[he]);return yt}function w(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;var P=0;if(S[P]!==" "){for(var D=0,$=0;S[P]===a;)D++,P++;for(var Y=(S.length-P)*l+1>>>0,le=new Uint8Array(Y);S[P];){var K=t[S.charCodeAt(P)];if(K===255)return;for(var we=0,fe=Y-1;(K!==0||we<$)&&fe!==-1;fe--,we++)K+=c*le[fe]>>>0,le[fe]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");$=we,P++}if(S[P]!==" "){for(var ne=Y-$;ne!==Y&&le[ne]===0;)ne++;for(var he=new Uint8Array(D+(Y-ne)),yt=D;ne!==Y;)he[yt++]=le[ne++];return he}}}function _(S){var P=w(S);if(P)return P;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:w,decode:_}}var g0,y0,no,io=I(()=>{g0=m0,y0=g0,no=y0});var so,oo,Br,ao,qr,Xe,w0,b0,v,Ue=I(()=>{io();Ye();so=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},oo=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){let t={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new Br(t)}},Br=class{constructor(e){this.decoders=e}or(e){let t=e.decoders||{[e.prefix]:e};return new Br({...this.decoders,...t})}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},ao=class{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new so(e,t,n),this.decoder=new oo(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},qr=({name:r,prefix:e,encode:t,decode:n})=>new ao(r,e,t,n),Xe=({prefix:r,name:e,alphabet:t})=>{let{encode:n,decode:i}=no(t,e);return qr({prefix:r,name:e,encode:n,decode:s=>be(i(s))})},w0=(r,e,t,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=r.length;for(;r[s-1]==="=";)--s;let o=new Uint8Array(s*t/8|0),c=0,a=0,l=0;for(let f=0;f<s;++f){let h=i[r[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<t|h,c+=t,c>=8&&(c-=8,o[l++]=255&a>>c)}if(c>=t||255&a<<8-c)throw new SyntaxError("Unexpected end of data");return o},b0=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,s="",o=0,c=0;for(let a=0;a<r.length;++a)for(c=c<<8|r[a],o+=8;o>t;)o-=t,s+=e[i&c>>o];if(o&&(s+=e[i&c<<t-o]),n)for(;s.length*t&7;)s+="=";return s},v=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>qr({prefix:e,name:r,encode(i){return b0(i,n,t)},decode(i){return w0(i,n,t,r)}})});var Et={};k(Et,{base58btc:()=>Le,base58flickr:()=>E0});var Le,E0,St=I(()=>{Ue();Le=Xe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),E0=Xe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var Ar={};k(Ar,{base32:()=>_t,base32hex:()=>I0,base32hexpad:()=>q0,base32hexpadupper:()=>A0,base32hexupper:()=>B0,base32pad:()=>_0,base32padupper:()=>x0,base32upper:()=>S0,base32z:()=>T0});var _t,S0,_0,x0,I0,B0,q0,A0,T0,Tr=I(()=>{Ue();_t=v({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),S0=v({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_0=v({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),x0=v({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),I0=v({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),B0=v({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),q0=v({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),A0=v({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),T0=v({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var T={};k(T,{CID:()=>O});var O,P0,C0,N0,er,O0,co,uo,Pr,Cr,U0,L0,R0,q=I(()=>{xr();Qt();St();Tr();Ye();O=class{constructor(e,t,n,i){this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Cr,byteLength:Cr,code:Pr,version:Pr,multihash:Pr,bytes:Pr,_baseCache:Cr,asCID:Cr})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==er)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==O0)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return O.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,n=Jt(e,t);return O.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Ln(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:i}=this;switch(n){case 0:return C0(t,i,e||Le.encoder);default:return N0(t,i,e||_t.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return L0(/^0\.0/,R0),!!(e&&(e[uo]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof O)return e;if(e!=null&&e.asCID===e){let{version:t,code:n,multihash:i,bytes:s}=e;return new O(t,n,i,s||co(t,n,i.bytes))}else if(e!=null&&e[uo]===!0){let{version:t,multihash:n,code:i}=e,s=Un(n);return O.create(t,i,s)}else return null}static create(e,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==er)throw new Error(`Version 0 CID must use dag-pb (code: ${er}) block encoding`);return new O(e,t,n,n.bytes)}case 1:{let i=co(e,t,n.bytes);return new O(e,t,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return O.create(0,er,e)}static createV1(e,t){return O.create(1,e,t)}static decode(e){let[t,n]=O.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=O.inspectBytes(e),n=t.size-t.multihashSize,i=be(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");let s=i.subarray(t.multihashSize-t.digestSize),o=new bt(t.multihashCode,t.digestSize,s,i);return[t.version===0?O.createV0(o):O.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,n=()=>{let[h,w]=wt(e.subarray(t));return t+=w,h},i=n(),s=er;if(i===18?(i=0,t=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=t,c=n(),a=n(),l=t+a,f=l-o;return{version:i,codec:s,multihashCode:c,digestSize:a,multihashSize:f,size:l}}static parse(e,t){let[n,i]=P0(e,t),s=O.decode(i);return s._baseCache.set(n,e),s}},P0=(r,e)=>{switch(r[0]){case"Q":{let t=e||Le;return[Le.prefix,t.decode(`${Le.prefix}${r}`)]}case Le.prefix:{let t=e||Le;return[Le.prefix,t.decode(r)]}case _t.prefix:{let t=e||_t;return[_t.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},C0=(r,e,t)=>{let{prefix:n}=t;if(n!==Le.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let i=e.get(n);if(i==null){let s=t.encode(r).slice(1);return e.set(n,s),s}else return i},N0=(r,e,t)=>{let{prefix:n}=t,i=e.get(n);if(i==null){let s=t.encode(r);return e.set(n,s),s}else return i},er=112,O0=18,co=(r,e,t)=>{let n=ct(r),i=n+ct(e),s=new Uint8Array(i+t.byteLength);return at(r,s,0),at(e,s,n),s.set(t,i),s},uo=Symbol.for("@ipld/js-cid/CID"),Pr={writable:!1,configurable:!1,enumerable:!0},Cr={writable:!1,enumerable:!1,configurable:!1},U0="0.0.0-dev",L0=(r,e)=>{if(r.test(U0))console.warn(e);else throw new Error(e)},R0=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var ho=u((f4,fo)=>{"use strict";var lo="[a-fA-F\\d:]",Je=r=>r&&r.includeBoundaries?`(?:(?<=\\s|^)(?=${lo})|(?<=${lo})(?=\\s|$))`:"",Ee="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",M="[a-fA-F\\d]{1,4}",Nr=`
(?:
(?:${M}:){7}(?:${M}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${M}:){6}(?:${Ee}|:${M}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${M}:){5}(?::${Ee}|(?::${M}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${M}:){4}(?:(?::${M}){0,1}:${Ee}|(?::${M}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${M}:){3}(?:(?::${M}){0,2}:${Ee}|(?::${M}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${M}:){2}(?:(?::${M}){0,3}:${Ee}|(?::${M}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${M}:){1}(?:(?::${M}){0,4}:${Ee}|(?::${M}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${M}){0,5}:${Ee}|(?::${M}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),D0=new RegExp(`(?:^${Ee}$)|(?:^${Nr}$)`),v0=new RegExp(`^${Ee}$`),F0=new RegExp(`^${Nr}$`),Rn=r=>r&&r.exact?D0:new RegExp(`(?:${Je(r)}${Ee}${Je(r)})|(?:${Je(r)}${Nr}${Je(r)})`,"g");Rn.v4=r=>r&&r.exact?v0:new RegExp(`${Je(r)}${Ee}${Je(r)}`,"g");Rn.v6=r=>r&&r.exact?F0:new RegExp(`${Je(r)}${Nr}${Je(r)}`,"g");fo.exports=Rn});var mo=u((h4,po)=>{"use strict";var Dn=ho(),xt=r=>Dn({exact:!0}).test(r);xt.v4=r=>Dn.v4({exact:!0}).test(r);xt.v6=r=>Dn.v6({exact:!0}).test(r);xt.version=r=>xt(r)?xt.v4(r)?4:6:void 0;po.exports=xt});var vn={};k(vn,{identity:()=>k0});var k0,go=I(()=>{Ue();Ye();k0=qr({prefix:"\0",name:"identity",encode:r=>On(r),decode:r=>Nn(r)})});var Fn={};k(Fn,{base2:()=>j0});var j0,yo=I(()=>{Ue();j0=v({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var kn={};k(kn,{base8:()=>M0});var M0,wo=I(()=>{Ue();M0=v({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var jn={};k(jn,{base10:()=>$0});var $0,bo=I(()=>{Ue();$0=Xe({prefix:"9",name:"base10",alphabet:"0123456789"})});var Mn={};k(Mn,{base16:()=>z0,base16upper:()=>H0});var z0,H0,Eo=I(()=>{Ue();z0=v({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),H0=v({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var $n={};k($n,{base36:()=>G0,base36upper:()=>V0});var G0,V0,So=I(()=>{Ue();G0=Xe({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),V0=Xe({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var zn={};k(zn,{base64:()=>W0,base64pad:()=>K0,base64url:()=>Y0,base64urlpad:()=>X0});var W0,K0,Y0,X0,_o=I(()=>{Ue();W0=v({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),K0=v({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Y0=v({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),X0=v({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var Or={};k(Or,{Hasher:()=>Hn,from:()=>It});var It,Hn,Ur=I(()=>{Qt();It=({name:r,code:e,encode:t})=>new Hn(r,e,t),Hn=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}async digest(e){if(e instanceof Uint8Array){let t=await this.encode(e);return Jt(this.code,t)}else throw Error("Unknown type, must be binary type")}}});var Lr={};k(Lr,{sha256:()=>J0,sha512:()=>Z0});var xo,J0,Z0,Gn=I(()=>{Ur();xo=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),J0=It({name:"sha2-256",code:18,encode:xo("SHA-256")}),Z0=It({name:"sha2-512",code:19,encode:xo("SHA-512")})});var Rr={};k(Rr,{identity:()=>Q0});var Q0,Vn=I(()=>{Ur();Ye();Q0=It({name:"identity",code:0,encode:r=>be(r)})});var Dr={};k(Dr,{code:()=>tw,decode:()=>nw,encode:()=>rw,name:()=>ew});var Io,ew,tw,rw,nw,Wn=I(()=>{Ye();Io=r=>be(r),{name:ew,code:tw,encode:rw,decode:nw}={name:"raw",code:85,decode:Io,encode:Io}});var vr={};k(vr,{code:()=>sw,decode:()=>aw,encode:()=>ow,name:()=>iw});var iw,sw,ow,aw,Kn=I(()=>{({name:iw,code:sw,encode:ow,decode:aw}={name:"json",code:512,encode:r=>new TextEncoder().encode(JSON.stringify(r)),decode:r=>JSON.parse(new TextDecoder().decode(r))})});var Bo=I(()=>{q();xr();Ye();Ur();Qt()});var qo={};k(qo,{CID:()=>O,bases:()=>cw,bytes:()=>Ir,codecs:()=>lw,digest:()=>Zt,hasher:()=>Or,hashes:()=>uw,varint:()=>_r});var cw,uw,lw,Ao=I(()=>{go();yo();wo();bo();Eo();Tr();So();St();_o();Gn();Vn();Wn();Kn();Bo();cw={...vn,...Fn,...kn,...jn,...Mn,...Ar,...$n,...Et,...zn},uw={...Lr,...Rr},lw={raw:Dr,json:vr}});var Xn=u((P4,No)=>{"use strict";var{bases:To}=(Ao(),qo);function Po(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var Co=Po("utf8","u",r=>{let e=new TextDecoder("utf8");return"u"+e.decode(r)},r=>new TextEncoder().encode(r.substring(1))),Yn=Po("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),fw={utf8:Co,"utf-8":Co,hex:To.base16,latin1:Yn,ascii:Yn,binary:Yn,...To};No.exports=fw});var ut=u((C4,Oo)=>{"use strict";var hw=Xn();function dw(r,e="utf8"){let t=hw[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.encoder.encode(r).substring(1)}Oo.exports=dw});var vo=u((N4,Do)=>{"use strict";var Jn=mo(),Uo=ut(),pw=Jn,Zn=Jn.v4,Lo=Jn.v6,Ro=function(r,e,t){t=~~t;let n;if(Zn(r))n=e||new Uint8Array(t+4),r.split(/\./g).map(function(i){n[t++]=parseInt(i,10)&255});else if(Lo(r)){let i=r.split(":",8),s;for(s=0;s<i.length;s++){let o=Zn(i[s]),c;o&&(c=Ro(i[s]),i[s]=Uo(c.slice(0,2),"base16")),c&&++s<8&&i.splice(s,0,Uo(c.slice(2,4),"base16"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(s=0;s<i.length&&i[s]!=="";s++);let o=[s,"1"];for(s=9-i.length;s>0;s--)o.push("0");i.splice.apply(i,o)}for(n=e||new Uint8Array(t+16),s=0;s<i.length;s++){let o=parseInt(i[s],16);n[t++]=o>>8&255,n[t++]=o&255}}if(!n)throw Error("Invalid ip address: "+r);return n},mw=function(r,e,t){e=~~e,t=t||r.length-e;let n=[],i,s=new DataView(r.buffer);if(t===4){for(let o=0;o<t;o++)n.push(r[e+o]);i=n.join(".")}else if(t===16){for(let o=0;o<t;o+=2)n.push(s.getUint16(e+o).toString(16));i=n.join(":"),i=i.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),i=i.replace(/:{3,4}/,"::")}return i};Do.exports={isIP:pw,isV4:Zn,isV6:Lo,toBytes:Ro,toString:mw}});var Fr=u((O4,ko)=>{"use strict";function Z(r){if(typeof r=="number"){if(Z.codes[r])return Z.codes[r];throw new Error("no protocol with code: "+r)}else if(typeof r=="string"){if(Z.names[r])return Z.names[r];throw new Error("no protocol with name: "+r)}throw new Error("invalid protocol id type: "+r)}var de=-1;Z.lengthPrefixedVarSize=de;Z.V=de;Z.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,de,"ip6zone"],[53,de,"dns","resolvable"],[54,de,"dns4","resolvable"],[55,de,"dns6","resolvable"],[56,de,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,de,"unix",!1,"path"],[421,de,"ipfs"],[421,de,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,de,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,de,"memory"]];Z.names={};Z.codes={};Z.table.map(r=>{let e=Fo.apply(null,r);return Z.codes[e.code]=e,Z.names[e.name]=e,null});Z.object=Fo;function Fo(r,e,t,n,i){return{code:r,size:e,name:t,resolvable:Boolean(n),path:Boolean(i)}}ko.exports=Z});var $o=u((U4,Mo)=>{Mo.exports=Qn;var jo=128,gw=127,yw=~gw,ww=Math.pow(2,31);function Qn(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw Qn.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var n=t;r>=ww;)e[t++]=r&255|jo,r/=128;for(;r&yw;)e[t++]=r&255|jo,r>>>=7;return e[t]=r|0,Qn.bytes=t-n+1,e}});var Go=u((L4,Ho)=>{Ho.exports=ei;var bw=128,zo=127;function ei(r,e){var t=0,e=e||0,n=0,i=e,s,o=r.length;do{if(i>=o||n>49)throw ei.bytes=0,new RangeError("Could not decode varint");s=r[i++],t+=n<28?(s&zo)<<n:(s&zo)*Math.pow(2,n),n+=7}while(s>=bw);return ei.bytes=i-e,t}});var Wo=u((R4,Vo)=>{var Ew=Math.pow(2,7),Sw=Math.pow(2,14),_w=Math.pow(2,21),xw=Math.pow(2,28),Iw=Math.pow(2,35),Bw=Math.pow(2,42),qw=Math.pow(2,49),Aw=Math.pow(2,56),Tw=Math.pow(2,63);Vo.exports=function(r){return r<Ew?1:r<Sw?2:r<_w?3:r<xw?4:r<Iw?5:r<Bw?6:r<qw?7:r<Aw?8:r<Tw?9:10}});var kr=u((D4,Ko)=>{Ko.exports={encode:$o(),decode:Go(),encodingLength:Wo()}});var Bt=u((v4,Yo)=>{"use strict";var Pw=Xn();function Cw(r,e="utf8"){let t=Pw[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${r}`)}Yo.exports=Cw});var ti=u((F4,Xo)=>{"use strict";function Nw(r,e){e||(e=r.reduce((i,s)=>i+s.length,0));let t=new Uint8Array(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return t}Xo.exports=Nw});var ia=u((k4,na)=>{"use strict";var jr=vo(),Jo=Fr(),{CID:Ow}=(q(),T),{base32:Zo}=(Tr(),Ar),{base58btc:Uw}=(St(),Et),Lw=(Qt(),Zt),qt=kr(),Mr=ut(),Qo=Bt(),$r=ti();na.exports=tr;function tr(r,e){return e instanceof Uint8Array?tr.toString(r,e):tr.toBytes(r,e)}tr.toString=function(e,t){switch(Jo(e).code){case 4:case 41:return Rw(t);case 6:case 273:case 33:case 132:return ta(t).toString();case 53:case 54:case 55:case 56:case 400:case 777:return vw(t);case 421:return kw(t);case 444:return ra(t);case 445:return ra(t);default:return Mr(t,"base16")}};tr.toBytes=function(e,t){switch(Jo(e).code){case 4:return ea(t);case 41:return ea(t);case 6:case 273:case 33:case 132:return ri(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 777:return Dw(t);case 421:return Fw(t);case 444:return jw(t);case 445:return Mw(t);default:return Qo(t,"base16")}};function ea(r){if(!jr.isIP(r))throw new Error("invalid ip address");return jr.toBytes(r)}function Rw(r){let e=jr.toString(r);if(!e||!jr.isIP(e))throw new Error("invalid ip address");return e}function ri(r){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,r),new Uint8Array(e)}function ta(r){return new DataView(r.buffer).getUint16(r.byteOffset)}function Dw(r){let e=Qo(r),t=Uint8Array.from(qt.encode(e.length));return $r([t,e],t.length+e.length)}function vw(r){let e=qt.decode(r);if(r=r.slice(qt.decode.bytes),r.length!==e)throw new Error("inconsistent lengths");return Mr(r)}function Fw(r){let e;r[0]==="Q"||r[0]==="1"?e=Lw.decode(Uw.decode(`z${r}`)).bytes:e=Ow.parse(r).multihash.bytes;let t=Uint8Array.from(qt.encode(e.length));return $r([t,e],t.length+e.length)}function kw(r){let e=qt.decode(r),t=r.slice(qt.decode.bytes);if(t.length!==e)throw new Error("inconsistent lengths");return Mr(t,"base58btc")}function jw(r){let e=r.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==16)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion address.");let t=Zo.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=ri(n);return $r([t,i],t.length+i.length)}function Mw(r){let e=r.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==56)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion3 address.");let t=Zo.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=ri(n);return $r([t,i],t.length+i.length)}function ra(r){let e=r.slice(0,r.length-2),t=r.slice(r.length-2),n=Mr(e,"base32"),i=ta(t);return n+":"+i}});var ga=u((j4,ma)=>{"use strict";var sa=ia(),ni=Fr(),rr=kr(),oa=ti(),$w=ut();ma.exports={stringToStringTuples:aa,stringTuplesToString:ca,tuplesToStringTuples:la,stringTuplesToTuples:ua,bytesToTuples:ii,tuplesToBytes:fa,bytesToString:zw,stringToBytes:da,fromString:Hw,fromBytes:pa,validateBytes:si,isValidBytes:Gw,cleanPath:zr,ParseError:oi,protoFromTuple:nr,sizeForAddr:ha};function aa(r){let e=[],t=r.split("/").slice(1);if(t.length===1&&t[0]==="")return[];for(let n=0;n<t.length;n++){let i=t[n],s=ni(i);if(s.size===0){e.push([i]);continue}if(n++,n>=t.length)throw oi("invalid address: "+r);if(s.path){e.push([i,zr(t.slice(n).join("/"))]);break}e.push([i,t[n]])}return e}function ca(r){let e=[];return r.map(t=>{let n=nr(t);return e.push(n.name),t.length>1&&e.push(t[1]),null}),zr(e.join("/"))}function ua(r){return r.map(e=>{Array.isArray(e)||(e=[e]);let t=nr(e);return e.length>1?[t.code,sa.toBytes(t.code,e[1])]:[t.code]})}function la(r){return r.map(e=>{let t=nr(e);return e[1]?[t.code,sa.toString(t.code,e[1])]:[t.code]})}function fa(r){return pa(oa(r.map(e=>{let t=nr(e),n=Uint8Array.from(rr.encode(t.code));return e.length>1&&(n=oa([n,e[1]])),n})))}function ha(r,e){return r.size>0?r.size/8:r.size===0?0:rr.decode(e)+rr.decode.bytes}function ii(r){let e=[],t=0;for(;t<r.length;){let n=rr.decode(r,t),i=rr.decode.bytes,s=ni(n),o=ha(s,r.slice(t+i));if(o===0){e.push([n]),t+=i;continue}let c=r.slice(t+i,t+i+o);if(t+=o+i,t>r.length)throw oi("Invalid address Uint8Array: "+$w(r,"base16"));e.push([n,c])}return e}function zw(r){let e=ii(r),t=la(e);return ca(t)}function da(r){r=zr(r);let e=aa(r),t=ua(e);return fa(t)}function Hw(r){return da(r)}function pa(r){let e=si(r);if(e)throw e;return Uint8Array.from(r)}function si(r){try{ii(r)}catch(e){return e}}function Gw(r){return si(r)===void 0}function zr(r){return"/"+r.trim().split("/").filter(e=>e).join("/")}function oi(r){return new Error("Error parsing address: "+r)}function nr(r){return ni(r[0])}});var ze=u((M4,wa)=>{"use strict";function ya(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function Vw(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return ya(r,t)}catch(n){t.message=r.message,t.stack=r.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(r)),ya(new i,t)}}wa.exports=Vw});var Ea=u(($4,ba)=>{"use strict";function Ww(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}ba.exports=Ww});var z=u((z4,xa)=>{"use strict";var Se=ga(),At=Fr(),Sa=kr(),{CID:Kw}=(q(),T),{base58btc:Yw}=(St(),Et),Xw=ze(),Jw=Symbol.for("nodejs.util.inspect.custom"),Hr=ut(),Zw=Ea(),ai=new Map,_a=Symbol.for("@multiformats/js-multiaddr/multiaddr"),X=class{constructor(e){if(e==null&&(e=""),Object.defineProperty(this,_a,{value:!0}),e instanceof Uint8Array)this.bytes=Se.fromBytes(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=Se.fromString(e)}else if(X.isMultiaddr(e))this.bytes=Se.fromBytes(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return Se.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let e={},t=this.toString().split("/");return e.family=t[1]==="ip4"?4:6,e.host=t[2],e.transport=t[3],e.port=parseInt(t[4]),e}protos(){return this.protoCodes().map(e=>Object.assign({},At(e)))}protoCodes(){let e=[],t=this.bytes,n=0;for(;n<t.length;){let i=Sa.decode(t,n),s=Sa.decode.bytes,o=At(i);n+=Se.sizeForAddr(o,t.slice(n+s))+s,e.push(i)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return Se.bytesToTuples(this.bytes)}stringTuples(){let e=Se.bytesToTuples(this.bytes);return Se.tuplesToStringTuples(e)}encapsulate(e){return e=new X(e),new X(this.toString()+e.toString())}decapsulate(e){let t=e.toString(),n=this.toString(),i=n.lastIndexOf(t);if(i<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return new X(n.slice(0,i))}decapsulateCode(e){let t=this.tuples();for(let n=t.length-1;n>=0;n--)if(t[n][0]===e)return new X(Se.tuplesToBytes(t.slice(0,n)));return this}getPeerId(){try{let t=this.stringTuples().filter(n=>n[0]===At.names.ipfs.code).pop();if(t&&t[1]){let n=t[1];return n[0]==="Q"||n[0]==="1"?Hr(Yw.decode(`z${n}`),"base58btc"):Hr(Kw.parse(n).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let e=null;try{e=this.stringTuples().filter(t=>!!At(t[0]).path)[0][1],e||(e=null)}catch(t){e=null}return e}equals(e){return Zw(this.bytes,e.bytes)}async resolve(){let e=this.protos().find(i=>i.resolvable);if(!e)return[this];let t=ai.get(e.name);if(!t)throw Xw(new Error(`no available resolver for ${e.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await t(this)).map(i=>new X(i))}nodeAddress(){let e=this.protoCodes(),t=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(e[0]!==4&&e[0]!==41&&e[0]!==54&&e[0]!==55)throw new Error(`no protocol with name: "'${t[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(n[2]!=="tcp"&&n[2]!=="udp")throw new Error(`no protocol with name: "'${t[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:e[0]===41||e[0]===55?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(e){let t=(e||this).protos();return!(t.length!==2||t[0].code!==4&&t[0].code!==41||t[1].code!==6&&t[1].code!==273)}static fromNodeAddress(e,t){if(!e)throw new Error("requires node address object");if(!t)throw new Error("requires transport protocol");let n;switch(e.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 4 or 6`)}return new X("/"+[n,e.address,t,e.port].join("/"))}static isName(e){return X.isMultiaddr(e)?e.protos().some(t=>t.resolvable):!1}static isMultiaddr(e){return e instanceof X||Boolean(e&&e[_a])}[Jw](){return"<Multiaddr "+Hr(this.bytes,"base16")+" - "+Se.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+Hr(this.bytes,"base16")+" - "+Se.bytesToString(this.bytes)+">"}};X.protocols=At;X.resolvers=ai;function Qw(r){return new X(r)}xa.exports={Multiaddr:X,multiaddr:Qw,protocols:At,resolvers:ai}});var Ia=u(()=>{});var ci=u(Gr=>{"use strict";var Ba=class extends Error{constructor(e="Request timed out"){super(e);this.name="TimeoutError"}};Gr.TimeoutError=Ba;var qa=class extends Error{constructor(e="The operation was aborted."){super(e);this.name="AbortError"}};Gr.AbortError=qa;var Aa=class extends Error{constructor(e){super(e.statusText);this.name="HTTPError",this.response=e}};Gr.HTTPError=Aa});var Pa=u((W4,Ta)=>{function eb(){return typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process!="undefined"&&typeof process.versions=="object"&&!!process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}Ta.exports=eb});var ui=u((K4,Ca)=>{"use strict";var tb=Pa(),Vr=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,ir=tb(),rb=Vr&&!ir,nb=ir&&!Vr,ib=ir&&Vr,sb=typeof Js=="function"&&typeof process!="undefined"&&typeof process.release!="undefined"&&process.release.name==="node"&&!ir,ob=typeof importScripts=="function"&&typeof self!="undefined"&&typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,ab=typeof process!="undefined"&&typeof process.env!="undefined"&&!1,cb=typeof navigator!="undefined"&&navigator.product==="ReactNative";Ca.exports={isTest:ab,isElectron:ir,isElectronMain:nb,isElectronRenderer:ib,isNode:sb,isBrowser:rb,isWebWorker:ob,isEnvWithDom:Vr,isReactNative:cb}});var Na=u(()=>{});var sr=u((Tt,Oa)=>{"use strict";var ub=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof He!="undefined")return He;throw new Error("unable to locate global object")},He=ub();Oa.exports=Tt=He.fetch;He.fetch&&(Tt.default=He.fetch.bind(He));Tt.Headers=He.Headers;Tt.Request=He.Request;Tt.Response=He.Response});var Ua=u((J4,li)=>{"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?li.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:li.exports={default:sr().default,Headers:sr().Headers,Request:sr().Request,Response:sr().Response}});var La=u((Z4,fi)=>{"use strict";var{isElectronMain:lb}=ui();lb?fi.exports=Na():fi.exports=Ua()});var Fa=u((Q4,va)=>{"use strict";var{TimeoutError:fb,AbortError:hb}=ci(),{Response:Ra,Request:db,Headers:hi,default:pb}=La(),mb=(r,e={})=>{let t=new XMLHttpRequest;t.open(e.method||"GET",r.toString(),!0);let{timeout:n,headers:i}=e;if(n&&n>0&&n<1/0&&(t.timeout=n),e.overrideMimeType!=null&&t.overrideMimeType(e.overrideMimeType),i)for(let[s,o]of new hi(i))t.setRequestHeader(s,o);return e.signal&&(e.signal.onabort=()=>t.abort()),e.onUploadProgress&&(t.upload.onprogress=e.onUploadProgress),t.responseType="arraybuffer",new Promise((s,o)=>{let c=a=>{switch(a.type){case"error":{s(Ra.error());break}case"load":{s(new Da(t.responseURL,t.response,{status:t.status,statusText:t.statusText,headers:wb(t.getAllResponseHeaders())}));break}case"timeout":{o(new fb);break}case"abort":{o(new hb);break}default:break}};t.onerror=c,t.onload=c,t.ontimeout=c,t.onabort=c,t.send(e.body)})},gb=pb,yb=(r,e={})=>e.onUploadProgress!=null?mb(r,e):gb(r,e),wb=r=>{let e=new hi;for(let t of r.trim().split(/[\r\n]+/)){let n=t.indexOf(": ");n>0&&e.set(t.slice(0,n),t.slice(n+1))}return e},Da=class extends Ra{constructor(e,t,n){super(t,n);Object.defineProperty(this,"url",{value:e})}};va.exports={fetch:yb,Request:db,Headers:hi}});var ja=u((eB,ka)=>{"use strict";ka.exports=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}});var pi=u((Ha,Ga)=>{"use strict";var Wr=ja(),{hasOwnProperty:Ma}=Object.prototype,{propertyIsEnumerable:bb}=Object,Pt=(r,e,t)=>Object.defineProperty(r,e,{value:t,writable:!0,enumerable:!0,configurable:!0}),Eb=Ha,$a={concatArrays:!1,ignoreUndefined:!1},Kr=r=>{let e=[];for(let t in r)Ma.call(r,t)&&e.push(t);if(Object.getOwnPropertySymbols){let t=Object.getOwnPropertySymbols(r);for(let n of t)bb.call(r,n)&&e.push(n)}return e};function Ct(r){return Array.isArray(r)?Sb(r):Wr(r)?_b(r):r}function Sb(r){let e=r.slice(0,0);return Kr(r).forEach(t=>{Pt(e,t,Ct(r[t]))}),e}function _b(r){let e=Object.getPrototypeOf(r)===null?Object.create(null):{};return Kr(r).forEach(t=>{Pt(e,t,Ct(r[t]))}),e}var za=(r,e,t,n)=>(t.forEach(i=>{typeof e[i]=="undefined"&&n.ignoreUndefined||(i in r&&r[i]!==Object.getPrototypeOf(r)?Pt(r,i,di(r[i],e[i],n)):Pt(r,i,Ct(e[i])))}),r),xb=(r,e,t)=>{let n=r.slice(0,0),i=0;return[r,e].forEach(s=>{let o=[];for(let c=0;c<s.length;c++)!Ma.call(s,c)||(o.push(String(c)),s===r?Pt(n,i++,s[c]):Pt(n,i++,Ct(s[c])));n=za(n,s,Kr(s).filter(c=>!o.includes(c)),t)}),n};function di(r,e,t){return t.concatArrays&&Array.isArray(r)&&Array.isArray(e)?xb(r,e,t):!Wr(e)||!Wr(r)?Ct(e):za(r,e,Kr(e),t)}Ga.exports=function(...r){let e=di(Ct($a),this!==Eb&&this||{},$a),t={_:{}};for(let n of r)if(n!==void 0){if(!Wr(n))throw new TypeError("`"+n+"` is not an Option Object");t=di(t,{_:n},e)}return t._}});var mi=u((tB,Ka)=>{"use strict";var Ib=typeof navigator!="undefined"&&navigator.product==="ReactNative";function Bb(){return Ib?"http://localhost":self.location.protocol+"//"+self.location.host}var or=self.URL,Va=Bb(),Wa=class{constructor(e="",t=Va){this.super=new or(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set username(e){this.super.username=e}static createObjectURL(e){return or.createObjectURL(e)}static revokeObjectURL(e){or.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function qb(r){if(typeof r=="string")return new or(r).toString();if(!(r instanceof or)){let e=r.username&&r.password?`${r.username}:${r.password}@`:"",t=r.auth?r.auth+"@":"",n=r.port?":"+r.port:"",i=r.protocol?r.protocol+"//":"",s=r.host||"",o=r.hostname||"",c=r.search||(r.query?"?"+r.query:""),a=r.hash||"",l=r.pathname||"",f=r.path||l+c;return`${i}${e||t}${s||o+n}${f}${a}`}}Ka.exports={URLWithLegacySupport:Wa,URLSearchParams:self.URLSearchParams,defaultBase:Va,format:qb}});var Ja=u((rB,Xa)=>{"use strict";var{URLWithLegacySupport:Ya,format:Ab}=mi();Xa.exports=(r,e={},t={},n)=>{let i=e.protocol?e.protocol.replace(":",""):"http";i=(t[i]||n||i)+":";let s;try{s=new Ya(r)}catch(c){s={}}let o=Object.assign({},e,{protocol:i||s.protocol,host:e.host||s.host});return new Ya(r,Ab(o)).toString()}});var Qa=u((nB,Za)=>{"use strict";var{URLWithLegacySupport:Tb,format:Pb,URLSearchParams:Cb,defaultBase:Nb}=mi(),Ob=Ja();Za.exports={URL:Tb,URLSearchParams:Cb,format:Pb,relative:Ob,defaultBase:Nb}});var tc=u((iB,Yr)=>{"use strict";var{AbortController:ec,AbortSignal:Ub}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;Yr.exports=ec;Yr.exports.AbortSignal=Ub;Yr.exports.default=ec});var Q=u((sB,rc)=>{"use strict";var Xr;globalThis.AbortController&&globalThis.AbortSignal?Xr=globalThis:Xr=tc();rc.exports={AbortController:Xr.AbortController,AbortSignal:Xr.AbortSignal}});var yi=u((oB,gi)=>{var{AbortController:Lb}=Q();function nc(r){let e=new Lb;function t(){e.abort();for(let n of r)!n||!n.removeEventListener||n.removeEventListener("abort",t)}for(let n of r)if(!(!n||!n.addEventListener)){if(n.aborted){t();break}n.addEventListener("abort",t)}return e.signal}gi.exports=nc;gi.exports.anySignal=nc});var bi=u((aB,uc)=>{"use strict";var{fetch:Rb,Request:Db,Headers:vb}=Fa(),{TimeoutError:wi,HTTPError:ic}=ci(),sc=pi().bind({ignoreUndefined:!0}),{URL:oc,URLSearchParams:ac}=Qa(),{AbortController:Fb}=Q(),kb=yi(),jb=(r,e,t)=>{if(e===void 0)return r;let n=Date.now(),i=()=>Date.now()-n>=e;return new Promise((s,o)=>{let c=setTimeout(()=>{i()&&(o(new wi),t.abort())},e),a=l=>h=>{if(clearTimeout(c),i()){o(new wi);return}l(h)};r.then(a(s),a(o))})},Mb={throwHttpErrors:!0,credentials:"same-origin"},J=class{constructor(e={}){this.opts=sc(Mb,e)}async fetch(e,t={}){let n=sc(this.opts,t),i=new vb(n.headers);if(typeof e!="string"&&!(e instanceof oc||e instanceof Db))throw new TypeError("`resource` must be a string, URL, or Request");let s=new oc(e.toString(),n.base),{searchParams:o,transformSearchParams:c,json:a}=n;o&&(typeof c=="function"?s.search=c(new ac(n.searchParams)):s.search=new ac(n.searchParams)),a&&(n.body=JSON.stringify(n.json),i.set("content-type","application/json"));let l=new Fb,f=kb([l.signal,n.signal]),h=await jb(Rb(s.toString(),{...n,signal:f,timeout:void 0,headers:i}),n.timeout,l);if(!h.ok&&n.throwHttpErrors)throw n.handleError&&await n.handleError(h),new ic(h);return h.iterator=function(){return cc(h.body)},h.ndjson=async function*(){for await(let w of $b(h.iterator()))t.transform?yield t.transform(w):yield w},h}post(e,t={}){return this.fetch(e,{...t,method:"POST"})}get(e,t={}){return this.fetch(e,{...t,method:"GET"})}put(e,t={}){return this.fetch(e,{...t,method:"PUT"})}delete(e,t={}){return this.fetch(e,{...t,method:"DELETE"})}options(e,t={}){return this.fetch(e,{...t,method:"OPTIONS"})}},$b=async function*(r){let e=new TextDecoder,t="";for await(let n of r){t+=e.decode(n,{stream:!0});let i=t.split(/\r?\n/);for(let s=0;s<i.length-1;s++){let o=i[s].trim();o.length>0&&(yield JSON.parse(o))}t=i[i.length-1]}t+=e.decode(),t=t.trim(),t.length!==0&&(yield JSON.parse(t))},cc=r=>{if(Gb(r)){let e=r[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{next:e.next.bind(e),return(t){return r.destroy(),typeof e.return=="function"?e.return():Promise.resolve({done:!0,value:t})}}}}}if(Hb(r)){let e=r.getReader();return async function*(){try{for(;;){let{done:t,value:n}=await e.read();if(t)return;n&&(yield n)}}finally{e.releaseLock()}}()}if(zb(r))return r;throw new TypeError("Body can't be converted to AsyncIterable")},zb=r=>typeof r=="object"&&r!==null&&typeof r[Symbol.asyncIterator]=="function",Hb=r=>r&&typeof r.getReader=="function",Gb=r=>Object.prototype.hasOwnProperty.call(r,"readable")&&Object.prototype.hasOwnProperty.call(r,"writable");J.HTTPError=ic;J.TimeoutError=wi;J.streamToAsyncIterator=cc;J.post=(r,e)=>new J(e).post(r,e);J.get=(r,e)=>new J(e).get(r,e);J.put=(r,e)=>new J(e).put(r,e);J.delete=(r,e)=>new J(e).delete(r,e);J.options=(r,e)=>new J(e).options(r,e);uc.exports=J});var fc=u((cB,lc)=>{"use strict";var Vb=bi(),Wb=(r,e)=>({path:decodeURIComponent(new URL(r).pathname.split("/").pop()||""),content:Kb(r,e)});async function*Kb(r,e){yield*(await new Vb().get(r,e)).iterator()}lc.exports=Wb});var pc=u((uB,dc)=>{"use strict";var Yb=r=>Promise.reject(new Error(`No codec found for "${r}"`)),hc=class{constructor(e){this._codecsByName={},this._codecsByCode={},this._loadCodec=e.loadCodec||Yb;for(let t of e.codecs)this.addCodec(t)}addCodec(e){if(this._codecsByName[e.name]||this._codecsByCode[e.code])throw new Error(`Resolver already exists for codec "${e.name}"`);this._codecsByName[e.name]=e,this._codecsByCode[e.code]=e}removeCodec(e){delete this._codecsByName[e.name],delete this._codecsByCode[e.code]}async getCodec(e){let t=typeof e=="string"?this._codecsByName:this._codecsByCode;if(t[e])return t[e];let n=await this._loadCodec(e);return t[e]==null&&this.addCodec(n),n}listCodecs(){return Object.values(this._codecsByName)}};dc.exports=hc});var yc=u((lB,gc)=>{"use strict";var Xb=r=>Promise.reject(new Error(`No hasher found for "${r}"`)),mc=class{constructor(e){this._hashersByName={},this._hashersByCode={},this._loadHasher=e.loadHasher||Xb;for(let t of e.hashers)this.addHasher(t)}addHasher(e){if(this._hashersByName[e.name]||this._hashersByCode[e.code])throw new Error(`Resolver already exists for codec "${e.name}"`);this._hashersByName[e.name]=e,this._hashersByCode[e.code]=e}removeHasher(e){delete this._hashersByName[e.name],delete this._hashersByCode[e.code]}async getHasher(e){let t=typeof e=="string"?this._hashersByName:this._hashersByCode;if(t[e])return t[e];let n=await this._loadHasher(e);return t[e]==null&&this.addHasher(n),n}listHashers(){return Object.values(this._hashersByName)}};gc.exports=mc});var Ec=u((fB,bc)=>{"use strict";var Jb=r=>Promise.reject(new Error(`No base found for "${r}"`)),wc=class{constructor(e){this._basesByName={},this._basesByPrefix={},this._loadBase=e.loadBase||Jb;for(let t of e.bases)this.addBase(t)}addBase(e){if(this._basesByName[e.name]||this._basesByPrefix[e.prefix])throw new Error(`Codec already exists for codec "${e.name}"`);this._basesByName[e.name]=e,this._basesByPrefix[e.prefix]=e}removeBase(e){delete this._basesByName[e.name],delete this._basesByPrefix[e.prefix]}async getBase(e){if(this._basesByName[e])return this._basesByName[e];if(this._basesByPrefix[e])return this._basesByPrefix[e];let t=await this._loadBase(e);return this._basesByName[t.name]==null&&this._basesByPrefix[t.prefix]==null&&this.addBase(t),t}listBases(){return Object.values(this._basesByName)}};bc.exports=wc});function Ei(r,e){let t=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(e>=r.length)throw new Error("protobuf: unexpected end of data");let i=r[e++];if(t+=n<28?(i&127)<<n:(i&127)*2**n,i<128)break}return[t,e]}function Jr(r,e){let t;[t,e]=Ei(r,e);let n=e+t;if(t<0||n<0)throw new Error("protobuf: invalid length");if(n>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(e,n),n]}function Sc(r,e){let t;return[t,e]=Ei(r,e),[t&7,t>>3,e]}function Qb(r){let e={},t=r.length,n=0;for(;n<t;){let i,s;if([i,s,n]=Sc(r,n),s===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(i!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,n]=Jr(r,n)}else if(s===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(i!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let o;[o,n]=Jr(r,n),e.Name=Zb.decode(o)}else if(s===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(i!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Tsize`);[e.Tsize,n]=Ei(r,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(n>t)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function _c(r){let e=r.length,t=0,n,i=!1,s;for(;t<e;){let c,a;if([c,a,t]=Sc(r,t),c!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${c}`);if(a===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,t]=Jr(r,t),n&&(i=!0)}else if(a===2){if(i)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let l;[l,t]=Jr(r,t),n.push(Qb(l))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${a}`)}if(t>e)throw new Error("protobuf: (PBNode) unexpected end of data");let o={};return s&&(o.Data=s),o.Links=n||[],o}var Zb,xc=I(()=>{Zb=new TextDecoder});function t1(r,e){let t=e.length;if(typeof r.Tsize=="number"){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");t=ar(e,t,r.Tsize)-1,e[t]=24}if(typeof r.Name=="string"){let n=Ic.encode(r.Name);t-=n.length,e.set(n,t),t=ar(e,t,n.length)-1,e[t]=18}return r.Hash&&(t-=r.Hash.length,e.set(r.Hash,t),t=ar(e,t,r.Hash.length)-1,e[t]=10),e.length-t}function qc(r){let e=n1(r),t=new Uint8Array(e),n=e;if(r.Data&&(n-=r.Data.length,t.set(r.Data,n),n=ar(t,n,r.Data.length)-1,t[n]=10),r.Links)for(let i=r.Links.length-1;i>=0;i--){let s=t1(r.Links[i],t.subarray(0,n));n-=s,n=ar(t,n,s)-1,t[n]=18}return t}function r1(r){let e=0;if(r.Hash){let t=r.Hash.length;e+=1+t+Nt(t)}if(typeof r.Name=="string"){let t=Ic.encode(r.Name).length;e+=1+t+Nt(t)}return typeof r.Tsize=="number"&&(e+=1+Nt(r.Tsize)),e}function n1(r){let e=0;if(r.Data){let t=r.Data.length;e+=1+t+Nt(t)}if(r.Links)for(let t of r.Links){let n=r1(t);e+=1+n+Nt(n)}return e}function ar(r,e,t){e-=Nt(t);let n=e;for(;t>=e1;)r[e++]=t&127|128,t/=128;for(;t>=128;)r[e++]=t&127|128,t>>>=7;return r[e]=t,n}function Nt(r){return r%2==0&&r++,Math.floor((i1(r)+6)/7)}function i1(r){let e=0;return r>=Bc&&(r=Math.floor(r/Bc),e=32),r>=1<<16&&(r>>>=16,e+=16),r>=1<<8&&(r>>>=8,e+=8),e+s1[r]}var Ic,Bc,e1,s1,Ac=I(()=>{Ic=new TextEncoder,Bc=2**32,e1=2**31;s1=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]});function Tc(r,e){if(r===e)return 0;let t=r.Name?Si.encode(r.Name):[],n=e.Name?Si.encode(e.Name):[],i=t.length,s=n.length;for(let o=0,c=Math.min(i,s);o<c;++o)if(t[o]!==n[o]){i=t[o],s=n[o];break}return i<s?-1:s<i?1:0}function Pc(r,e){return!Object.keys(r).some(t=>!e.includes(t))}function Cc(r){if(typeof r.asCID=="object"){let t=O.asCID(r);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if(typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");let e={};if(r.Hash){let t=O.asCID(r.Hash);try{t||(typeof r.Hash=="string"?t=O.parse(r.Hash):r.Hash instanceof Uint8Array&&(t=O.decode(r.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}t&&(e.Hash=t)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof r.Name=="string"&&(e.Name=r.Name),typeof r.Tsize=="number"&&(e.Tsize=r.Tsize),e}function _i(r){if((r instanceof Uint8Array||typeof r=="string")&&(r={Data:r}),typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");let e={};if(r.Data!==void 0)if(typeof r.Data=="string")e.Data=Si.encode(r.Data);else if(r.Data instanceof Uint8Array)e.Data=r.Data;else throw new TypeError("Invalid DAG-PB form");if(r.Links!==void 0)if(Array.isArray(r.Links))e.Links=r.Links.map(Cc),e.Links.sort(Tc);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function xi(r){if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");if(!Pc(r,o1))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(r.Data!==void 0&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let e=0;e<r.Links.length;e++){let t=r.Links[e];if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!Pc(t,a1))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!t.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(t.Hash.asCID!==t.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(t.Name!==void 0&&typeof t.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(t.Tsize!==void 0&&(typeof t.Tsize!="number"||t.Tsize%1!=0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(e>0&&Tc(t,r.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function Nc(r,e=[]){return _i({Data:r,Links:e})}function Oc(r,e,t){return Cc({Hash:t,Name:r,Tsize:e})}var o1,a1,Si,Uc=I(()=>{q();o1=["Data","Links"],a1=["Hash","Name","Tsize"],Si=new TextEncoder});var Lc={};k(Lc,{code:()=>u1,createLink:()=>Oc,createNode:()=>Nc,decode:()=>f1,encode:()=>l1,name:()=>c1,prepare:()=>_i,validate:()=>xi});function l1(r){xi(r);let e={};return r.Links&&(e.Links=r.Links.map(t=>{let n={};return t.Hash&&(n.Hash=t.Hash.bytes),t.Name!==void 0&&(n.Name=t.Name),t.Tsize!==void 0&&(n.Tsize=t.Tsize),n})),r.Data&&(e.Data=r.Data),qc(e)}function f1(r){let e=_c(r),t={};return e.Data&&(t.Data=e.Data),e.Links&&(t.Links=e.Links.map(n=>{let i={};try{i.Hash=O.decode(n.Hash)}catch(s){}if(!i.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(i.Name=n.Name),n.Tsize!==void 0&&(i.Tsize=n.Tsize),i})),t}var c1,u1,Rc=I(()=>{q();xc();Ac();Uc();c1="dag-pb",u1=112});function Dc(r){if(r===null)return"null";if(r===void 0)return"undefined";if(r===!0||r===!1)return"boolean";let e=typeof r;if(h1.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(r))return"Array";if(p1(r))return"Buffer";let t=m1(r);return t||"Object"}function p1(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}function m1(r){let e=Object.prototype.toString.call(r).slice(8,-1);if(d1.includes(e))return e}var h1,d1,vc=I(()=>{h1=["string","number","bigint","symbol"],d1=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"]});var p,b,ie=I(()=>{p=class{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};p.uint=new p(0,"uint",!0);p.negint=new p(1,"negint",!0);p.bytes=new p(2,"bytes",!0);p.string=new p(3,"string",!0);p.array=new p(4,"array",!1);p.map=new p(5,"map",!1);p.tag=new p(6,"tag",!1);p.float=new p(7,"float",!0);p.false=new p(7,"false",!0);p.true=new p(7,"true",!0);p.null=new p(7,"null",!0);p.undefined=new p(7,"undefined",!0);p.break=new p(7,"break",!0);b=class{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0}toString(){return`Token[${this.type}].${this.value}`}}});function Zr(r){return Ot&&globalThis.Buffer.isBuffer(r)}function Ii(r){return r instanceof Uint8Array?Zr(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}function $c(r,e){if(Zr(r)&&Zr(e))return r.compare(e);for(let t=0;t<r.length;t++)if(r[t]!==e[t])return r[t]<e[t]?-1:1;return 0}function zc(r,e=1/0){let t,n=r.length,i=null,s=[];for(let o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function Hc(r,e,t){let n=[];for(;e<t;){let i=r[e],s=null,o=i>239?4:i>223?3:i>191?2:1;if(e+o<=t){let c,a,l,f;switch(o){case 1:i<128&&(s=i);break;case 2:c=r[e+1],(c&192)==128&&(f=(i&31)<<6|c&63,f>127&&(s=f));break;case 3:c=r[e+1],a=r[e+2],(c&192)==128&&(a&192)==128&&(f=(i&15)<<12|(c&63)<<6|a&63,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:c=r[e+1],a=r[e+2],l=r[e+3],(c&192)==128&&(a&192)==128&&(l&192)==128&&(f=(i&15)<<18|(c&63)<<12|(a&63)<<6|l&63,f>65535&&f<1114112&&(s=f))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),e+=o}return w1(n)}function w1(r){let e=r.length;if(e<=Gc)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Gc));return t}var Ot,g1,y1,Fc,kc,Re,Qr,jc,Mc,Gc,Ut=I(()=>{Ot=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",g1=new TextDecoder,y1=new TextEncoder;Fc=Ot?(r,e,t)=>t-e>64?globalThis.Buffer.from(r.subarray(e,t)).toString("utf8"):Hc(r,e,t):(r,e,t)=>t-e>64?g1.decode(r.subarray(e,t)):Hc(r,e,t),kc=Ot?r=>r.length>64?globalThis.Buffer.from(r):zc(r):r=>r.length>64?y1.encode(r):zc(r),Re=r=>Uint8Array.from(r),Qr=Ot?(r,e,t)=>Zr(r)?new Uint8Array(r.subarray(e,t)):r.slice(e,t):(r,e,t)=>r.slice(e,t),jc=Ot?(r,e)=>(r=r.map(t=>t instanceof Uint8Array?t:globalThis.Buffer.from(t)),Ii(globalThis.Buffer.concat(r,e))):(r,e)=>{let t=new Uint8Array(e),n=0;for(let i of r)n+i.length>t.length&&(i=i.subarray(0,t.length-n)),t.set(i,n),n+=i.length;return t},Mc=Ot?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);Gc=4096});var b1,en,Vc=I(()=>{Ut();b1=256,en=class{constructor(e=b1){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.chunks=[],this.cursor=0,this.maxCursor=-1,this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let i=t.length-(this.maxCursor-this.cursor)-1;t.set(e,i)}else{if(t){let i=t.length-(this.maxCursor-this.cursor)-1;i<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Mc(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Qr(n,0,this.cursor)}else t=jc(this.chunks,this.cursor);return e&&this.reset(),t}}});function Ge(r,e,t){if(r.length-e<t)throw new Error(`${B} not enough data for type`)}var B,Bi,cr,_e=I(()=>{B="CBOR decode error:",Bi="CBOR encode error:",cr=[];cr[23]=1;cr[24]=2;cr[25]=3;cr[26]=5;cr[27]=9});function se(r,e,t){Ge(r,e,1);let n=r[e];if(t.strict===!0&&n<H[0])throw new Error(`${B} integer encoded in more bytes than necessary (strict decode)`);return n}function oe(r,e,t){Ge(r,e,2);let n=r[e]<<8|r[e+1];if(t.strict===!0&&n<H[1])throw new Error(`${B} integer encoded in more bytes than necessary (strict decode)`);return n}function ae(r,e,t){Ge(r,e,4);let n=r[e]*16777216+(r[e+1]<<16)+(r[e+2]<<8)+r[e+3];if(t.strict===!0&&n<H[2])throw new Error(`${B} integer encoded in more bytes than necessary (strict decode)`);return n}function ce(r,e,t){Ge(r,e,8);let n=r[e]*16777216+(r[e+1]<<16)+(r[e+2]<<8)+r[e+3],i=r[e+4]*16777216+(r[e+5]<<16)+(r[e+6]<<8)+r[e+7],s=(BigInt(n)<<BigInt(32))+BigInt(i);if(t.strict===!0&&s<H[3])throw new Error(`${B} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(t.allowBigInt===!0)return s;throw new Error(`${B} integers outside of the safe integer range are not supported`)}function Wc(r,e,t,n){return new b(p.uint,se(r,e+1,n),2)}function Kc(r,e,t,n){return new b(p.uint,oe(r,e+1,n),3)}function Yc(r,e,t,n){return new b(p.uint,ae(r,e+1,n),5)}function Xc(r,e,t,n){return new b(p.uint,ce(r,e+1,n),9)}function pe(r,e){return ee(r,0,e.value)}function ee(r,e,t){if(t<H[0]){let n=Number(t);r.push([e|n])}else if(t<H[1]){let n=Number(t);r.push([e|24,n])}else if(t<H[2]){let n=Number(t);r.push([e|25,n>>>8,n&255])}else if(t<H[3]){let n=Number(t);r.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(t);if(n<H[4]){let i=[e|27,0,0,0,0,0,0,0],s=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=s&255,s=s>>8,i[7]=s&255,s=s>>8,i[6]=s&255,s=s>>8,i[5]=s&255,i[4]=o&255,o=o>>8,i[3]=o&255,o=o>>8,i[2]=o&255,o=o>>8,i[1]=o&255,r.push(i)}else throw new Error(`${B} encountered BigInt larger than allowable range`)}}var H,De=I(()=>{ie();_e();H=[24,256,65536,4294967296,BigInt("18446744073709551616")];pe.encodedSize=function(e){return ee.encodedSize(e.value)};ee.encodedSize=function(e){return e<H[0]?1:e<H[1]?2:e<H[2]?3:e<H[3]?5:9};pe.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0}});function Jc(r,e,t,n){return new b(p.negint,-1-se(r,e+1,n),2)}function Zc(r,e,t,n){return new b(p.negint,-1-oe(r,e+1,n),3)}function Qc(r,e,t,n){return new b(p.negint,-1-ae(r,e+1,n),5)}function tu(r,e,t,n){let i=ce(r,e+1,n);if(typeof i!="bigint"){let s=-1-i;if(s>=Number.MIN_SAFE_INTEGER)return new b(p.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${B} integers outside of the safe integer range are not supported`);return new b(p.negint,qi-BigInt(i),9)}function tn(r,e){let t=e.value,n=typeof t=="bigint"?t*qi-eu:t*-1-1;ee(r,e.type.majorEncoded,n)}var qi,eu,Ai=I(()=>{ie();De();_e();qi=BigInt(-1),eu=BigInt(1);tn.encodedSize=function(e){let t=e.value,n=typeof t=="bigint"?t*qi-eu:t*-1-1;return n<H[0]?1:n<H[1]?2:n<H[2]?3:n<H[3]?5:9};tn.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0}});function ur(r,e,t,n){Ge(r,e,t+n);let i=Qr(r,e+t,e+t+n);return new b(p.bytes,i,t+n)}function ru(r,e,t,n){return ur(r,e,1,t)}function nu(r,e,t,n){return ur(r,e,2,se(r,e+1,n))}function iu(r,e,t,n){return ur(r,e,3,oe(r,e+1,n))}function su(r,e,t,n){return ur(r,e,5,ae(r,e+1,n))}function ou(r,e,t,n){let i=ce(r,e+1,n);if(typeof i=="bigint")throw new Error(`${B} 64-bit integer bytes lengths not supported`);return ur(r,e,9,i)}function rn(r){return r.encodedBytes===void 0&&(r.encodedBytes=r.type===p.string?kc(r.value):r.value),r.encodedBytes}function Lt(r,e){let t=rn(e);ee(r,e.type.majorEncoded,t.length),r.push(t)}function E1(r,e){return r.length<e.length?-1:r.length>e.length?1:$c(r,e)}var nn=I(()=>{ie();_e();De();Ut();Lt.encodedSize=function(e){let t=rn(e);return ee.encodedSize(t.length)+t.length};Lt.compareTokens=function(e,t){return E1(rn(e),rn(t))}});function lr(r,e,t,n){let i=t+n;return Ge(r,e,i),new b(p.string,Fc(r,e+t,e+i),i)}function au(r,e,t,n){return lr(r,e,1,t)}function cu(r,e,t,n){return lr(r,e,2,se(r,e+1,n))}function uu(r,e,t,n){return lr(r,e,3,oe(r,e+1,n))}function lu(r,e,t,n){return lr(r,e,5,ae(r,e+1,n))}function fu(r,e,t,n){let i=ce(r,e+1,n);if(typeof i=="bigint")throw new Error(`${B} 64-bit integer string lengths not supported`);return lr(r,e,9,i)}var hu,Ti=I(()=>{ie();_e();De();nn();Ut();hu=Lt});function Rt(r,e,t,n){return new b(p.array,n,t)}function du(r,e,t,n){return Rt(r,e,1,t)}function pu(r,e,t,n){return Rt(r,e,2,se(r,e+1,n))}function mu(r,e,t,n){return Rt(r,e,3,oe(r,e+1,n))}function gu(r,e,t,n){return Rt(r,e,5,ae(r,e+1,n))}function yu(r,e,t,n){let i=ce(r,e+1,n);if(typeof i=="bigint")throw new Error(`${B} 64-bit integer array lengths not supported`);return Rt(r,e,9,i)}function wu(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${B} indefinite length items not allowed`);return Rt(r,e,1,1/0)}function Pi(r,e){ee(r,p.array.majorEncoded,e.value)}var Ci=I(()=>{ie();De();_e();Pi.compareTokens=pe.compareTokens});function Dt(r,e,t,n){return new b(p.map,n,t)}function bu(r,e,t,n){return Dt(r,e,1,t)}function Eu(r,e,t,n){return Dt(r,e,2,se(r,e+1,n))}function Su(r,e,t,n){return Dt(r,e,3,oe(r,e+1,n))}function _u(r,e,t,n){return Dt(r,e,5,ae(r,e+1,n))}function xu(r,e,t,n){let i=ce(r,e+1,n);if(typeof i=="bigint")throw new Error(`${B} 64-bit integer map lengths not supported`);return Dt(r,e,9,i)}function Iu(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${B} indefinite length items not allowed`);return Dt(r,e,1,1/0)}function Ni(r,e){ee(r,p.map.majorEncoded,e.value)}var Oi=I(()=>{ie();De();_e();Ni.compareTokens=pe.compareTokens});function Bu(r,e,t,n){return new b(p.tag,t,1)}function qu(r,e,t,n){return new b(p.tag,se(r,e+1,n),2)}function Au(r,e,t,n){return new b(p.tag,oe(r,e+1,n),3)}function Tu(r,e,t,n){return new b(p.tag,ae(r,e+1,n),5)}function Pu(r,e,t,n){return new b(p.tag,ce(r,e+1,n),9)}function Ui(r,e){ee(r,p.tag.majorEncoded,e.value)}var Li=I(()=>{ie();De();Ui.compareTokens=pe.compareTokens});function Cu(r,e,t,n){if(n.allowUndefined===!1)throw new Error(`${B} undefined values are not supported`);return new b(p.undefined,void 0,1)}function Nu(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${B} indefinite length items not allowed`);return new b(p.break,void 0,1)}function Ri(r,e,t){if(t){if(t.allowNaN===!1&&Number.isNaN(r))throw new Error(`${B} NaN values are not supported`);if(t.allowInfinity===!1&&(r===1/0||r===-1/0))throw new Error(`${B} Infinity values are not supported`)}return new b(p.float,r,e)}function Ou(r,e,t,n){return Ri(Di(r,e+1),3,n)}function Uu(r,e,t,n){return Ri(vi(r,e+1),5,n)}function Lu(r,e,t,n){return Ri(Fu(r,e+1),9,n)}function sn(r,e,t){let n=e.value;if(n===!1)r.push([p.float.majorEncoded|S1]);else if(n===!0)r.push([p.float.majorEncoded|_1]);else if(n===null)r.push([p.float.majorEncoded|x1]);else if(n===void 0)r.push([p.float.majorEncoded|I1]);else{let i,s=!1;(!t||t.float64!==!0)&&(Du(n),i=Di(xe,1),n===i||Number.isNaN(n)?(xe[0]=249,r.push(xe.slice(0,3)),s=!0):(vu(n),i=vi(xe,1),n===i&&(xe[0]=250,r.push(xe.slice(0,5)),s=!0))),s||(B1(n),i=Fu(xe,1),xe[0]=251,r.push(xe.slice(0,9)))}}function Du(r){if(r===1/0)me.setUint16(0,31744,!1);else if(r===-1/0)me.setUint16(0,64512,!1);else if(Number.isNaN(r))me.setUint16(0,32256,!1);else{me.setFloat32(0,r);let e=me.getUint32(0),t=(e&2139095040)>>23,n=e&8388607;if(t===255)me.setUint16(0,31744,!1);else if(t===0)me.setUint16(0,(r&2147483648)>>16|n>>13,!1);else{let i=t-127;i<-24?me.setUint16(0,0):i<-14?me.setUint16(0,(e&2147483648)>>16|1<<24+i,!1):me.setUint16(0,(e&2147483648)>>16|i+15<<10|n>>13,!1)}}}function Di(r,e){if(r.length-e<2)throw new Error(`${B} not enough data for float16`);let t=(r[e]<<8)+r[e+1];if(t===31744)return 1/0;if(t===64512)return-1/0;if(t===32256)return NaN;let n=t>>10&31,i=t&1023,s;return n===0?s=i*2**-24:n!==31?s=(i+1024)*2**(n-25):s=i===0?1/0:NaN,t&32768?-s:s}function vu(r){me.setFloat32(0,r,!1)}function vi(r,e){if(r.length-e<4)throw new Error(`${B} not enough data for float32`);let t=(r.byteOffset||0)+e;return new DataView(r.buffer,t,4).getFloat32(0,!1)}function B1(r){me.setFloat64(0,r,!1)}function Fu(r,e){if(r.length-e<8)throw new Error(`${B} not enough data for float64`);let t=(r.byteOffset||0)+e;return new DataView(r.buffer,t,8).getFloat64(0,!1)}var S1,_1,x1,I1,Ru,me,xe,Fi=I(()=>{ie();_e();De();S1=20,_1=21,x1=22,I1=23;sn.encodedSize=function(e,t){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;let i;if(!t||t.float64!==!0){if(Du(n),i=Di(xe,1),n===i||Number.isNaN(n))return 3;if(vu(n),i=vi(xe,1),n===i)return 5}return 9};Ru=new ArrayBuffer(9),me=new DataView(Ru,1),xe=new Uint8Array(Ru,0);sn.compareTokens=pe.compareTokens});function N(r,e,t){throw new Error(`${B} encountered invalid minor (${t}) for major ${r[e]>>>5}`)}function on(r){return()=>{throw new Error(`${B} ${r}`)}}function ku(r){switch(r.type){case p.false:return Re([244]);case p.true:return Re([245]);case p.null:return Re([246]);case p.bytes:return r.value.length?void 0:Re([64]);case p.string:return r.value===""?Re([96]):void 0;case p.array:return r.value===0?Re([128]):void 0;case p.map:return r.value===0?Re([160]):void 0;case p.uint:return r.value<24?Re([Number(r.value)]):void 0;case p.negint:if(r.value>=-24)return Re([31-Number(r.value)])}}var y,Ie,ki=I(()=>{ie();De();Ai();nn();Ti();Ci();Oi();Li();Fi();_e();Ut();y=[];for(let r=0;r<=23;r++)y[r]=N;y[24]=Wc;y[25]=Kc;y[26]=Yc;y[27]=Xc;y[28]=N;y[29]=N;y[30]=N;y[31]=N;for(let r=32;r<=55;r++)y[r]=N;y[56]=Jc;y[57]=Zc;y[58]=Qc;y[59]=tu;y[60]=N;y[61]=N;y[62]=N;y[63]=N;for(let r=64;r<=87;r++)y[r]=ru;y[88]=nu;y[89]=iu;y[90]=su;y[91]=ou;y[92]=N;y[93]=N;y[94]=N;y[95]=on("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)y[r]=au;y[120]=cu;y[121]=uu;y[122]=lu;y[123]=fu;y[124]=N;y[125]=N;y[126]=N;y[127]=on("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)y[r]=du;y[152]=pu;y[153]=mu;y[154]=gu;y[155]=yu;y[156]=N;y[157]=N;y[158]=N;y[159]=wu;for(let r=160;r<=183;r++)y[r]=bu;y[184]=Eu;y[185]=Su;y[186]=_u;y[187]=xu;y[188]=N;y[189]=N;y[190]=N;y[191]=Iu;for(let r=192;r<=215;r++)y[r]=Bu;y[216]=qu;y[217]=Au;y[218]=Tu;y[219]=Pu;y[220]=N;y[221]=N;y[222]=N;y[223]=N;for(let r=224;r<=243;r++)y[r]=on("simple values are not supported");y[244]=N;y[245]=N;y[246]=N;y[247]=Cu;y[248]=on("simple values are not supported");y[249]=Ou;y[250]=Uu;y[251]=Lu;y[252]=N;y[253]=N;y[254]=N;y[255]=Nu;Ie=[];for(let r=0;r<24;r++)Ie[r]=new b(p.uint,r,1);for(let r=-1;r>=-24;r--)Ie[31-r]=new b(p.negint,r,1);Ie[64]=new b(p.bytes,new Uint8Array(0),1);Ie[96]=new b(p.string,"",1);Ie[128]=new b(p.array,0,1);Ie[160]=new b(p.map,0,1);Ie[244]=new b(p.false,!1,1);Ie[245]=new b(p.true,!0,1);Ie[246]=new b(p.null,null,1)});function an(r,e={},t){let n=Dc(r),i=e&&e.typeEncoders&&e.typeEncoders[n]||Qe[n];if(typeof i=="function"){let o=i(r,n,e,t);if(o!=null)return o}let s=Qe[n];if(!s)throw new Error(`${Bi} unsupported type: ${n}`);return s(r,n,e,t)}function A1(r,e){e.mapSorter&&r.sort(e.mapSorter)}function T1(r,e){let t=Array.isArray(r[0])?r[0][0]:r[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(t.type!==n.type)return t.type.compare(n.type);let i=t.type.major,s=ve[i].compareTokens(t,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function Mu(r,e,t,n){if(Array.isArray(e))for(let i of e)Mu(r,i,t,n);else t[e.type.major](r,e,n)}function P1(r,e,t){let n=an(r,t);if(!Array.isArray(n)&&t.quickEncodeToken){let i=t.quickEncodeToken(n);if(i)return i;let s=e[n.type.major];if(s.encodedSize){let o=s.encodedSize(n,t),c=new en(o);if(s(c,n,t),c.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Ii(c.chunks[0])}}return Mu(ju,n,e,t),ju.toBytes(!0)}function ji(r,e){return e=Object.assign({},q1,e),P1(r,ve,e)}var q1,ve,ju,fr,Ze,Qe,$u=I(()=>{vc();ie();Vc();_e();ki();Ut();De();Ai();nn();Ti();Ci();Oi();Li();Fi();q1={float64:!1,mapSorter:T1,quickEncodeToken:ku},ve=[];ve[p.uint.major]=pe;ve[p.negint.major]=tn;ve[p.bytes.major]=Lt;ve[p.string.major]=hu;ve[p.array.major]=Pi;ve[p.map.major]=Ni;ve[p.tag.major]=Ui;ve[p.float.major]=sn;ju=new en,fr=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${Bi} object contains circular references`);return new fr(t,e)}},Ze={null:new b(p.null,null),undefined:new b(p.undefined,void 0),true:new b(p.true,!0),false:new b(p.false,!1),emptyArray:new b(p.array,0),emptyMap:new b(p.map,0)},Qe={number(r,e,t,n){return!Number.isInteger(r)||!Number.isSafeInteger(r)?new b(p.float,r):r>=0?new b(p.uint,r):new b(p.negint,r)},bigint(r,e,t,n){return r>=BigInt(0)?new b(p.uint,r):new b(p.negint,r)},Uint8Array(r,e,t,n){return new b(p.bytes,r)},string(r,e,t,n){return new b(p.string,r)},boolean(r,e,t,n){return r?Ze.true:Ze.false},null(r,e,t,n){return Ze.null},undefined(r,e,t,n){return Ze.undefined},ArrayBuffer(r,e,t,n){return new b(p.bytes,new Uint8Array(r))},DataView(r,e,t,n){return new b(p.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength))},Array(r,e,t,n){if(!r.length)return t.addBreakTokens===!0?[Ze.emptyArray,new b(p.break)]:Ze.emptyArray;n=fr.createCheck(n,r);let i=[],s=0;for(let o of r)i[s++]=an(o,t,n);return t.addBreakTokens?[new b(p.array,r.length),i,new b(p.break)]:[new b(p.array,r.length),i]},Object(r,e,t,n){let i=e!=="Object",s=i?r.keys():Object.keys(r),o=i?r.size:s.length;if(!o)return t.addBreakTokens===!0?[Ze.emptyMap,new b(p.break)]:Ze.emptyMap;n=fr.createCheck(n,r);let c=[],a=0;for(let l of s)c[a++]=[an(l,t,n),an(i?r.get(l):r[l],t,n)];return A1(c,t),t.addBreakTokens?[new b(p.map,o),c,new b(p.break)]:[new b(p.map,o),c]}};Qe.Map=Qe.Object;Qe.Buffer=Qe.Uint8Array;for(let r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Qe[`${r}Array`]=Qe.DataView});function N1(r,e,t){let n=[];for(let i=0;i<r.value;i++){let s=dr(e,t);if(s===cn){if(r.value===1/0)break;throw new Error(`${B} got unexpected break to lengthed array`)}if(s===hr)throw new Error(`${B} found array but not enough entries (got ${i}, expected ${r.value})`);n[i]=s}return n}function O1(r,e,t){let n=t.useMaps===!0,i=n?void 0:{},s=n?new Map:void 0;for(let o=0;o<r.value;o++){let c=dr(e,t);if(c===cn){if(r.value===1/0)break;throw new Error(`${B} got unexpected break to lengthed map`)}if(c===hr)throw new Error(`${B} found map but not enough entries (got ${o} [no key], expected ${r.value})`);if(n!==!0&&typeof c!="string")throw new Error(`${B} non-string keys not supported (got ${typeof c})`);let a=dr(e,t);if(a===hr)throw new Error(`${B} found map but not enough entries (got ${o} [no value], expected ${r.value})`);n?s.set(c,a):i[c]=a}return n?s:i}function dr(r,e){if(r.done())return hr;let t=r.next();if(t.type===p.break)return cn;if(t.type.terminal)return t.value;if(t.type===p.array)return N1(t,r,e);if(t.type===p.map)return O1(t,r,e);if(t.type===p.tag){if(e.tags&&typeof e.tags[t.value]=="function"){let n=dr(r,e);return e.tags[t.value](n)}throw new Error(`${B} tag not supported (${t.value})`)}throw new Error("unsupported")}function Mi(r,e){if(!(r instanceof Uint8Array))throw new Error(`${B} data to decode must be a Uint8Array`);e=Object.assign({},C1,e);let t=e.tokenizer||new zu(r,e),n=dr(t,e);if(n===hr)throw new Error(`${B} did not find any content to decode`);if(n===cn)throw new Error(`${B} got unexpected break`);if(!t.done())throw new Error(`${B} too many terminals, data makes no sense`);return n}var C1,zu,hr,cn,Hu=I(()=>{_e();ie();ki();C1={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},zu=class{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=Ie[e];if(t===void 0){let n=y[e];if(!n)throw new Error(`${B} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let i=e&31;t=n(this.data,this.pos,i,this.options)}return this.pos+=t.encodedLength,t}},hr=Symbol.for("DONE"),cn=Symbol.for("BREAK")});var Gu=I(()=>{$u();Hu();ie()});var Ku={};k(Ku,{code:()=>k1,decode:()=>M1,encode:()=>j1,name:()=>F1});function U1(r){if(r.asCID!==r)return null;let e=O.asCID(r);if(!e)return null;let t=new Uint8Array(e.bytes.byteLength+1);return t.set(e.bytes,1),[new b(p.tag,Vu),new b(p.bytes,t)]}function L1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function R1(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}function v1(r){if(r[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return O.decode(r.subarray(1))}var Vu,D1,Wu,F1,k1,j1,M1,Yu=I(()=>{Gu();q();Vu=42;D1={float64:!0,typeEncoders:{Object:U1,undefined:L1,number:R1}};Wu={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};Wu.tags[Vu]=v1;F1="dag-cbor",k1=113,j1=r=>ji(r,D1),M1=r=>Mi(r,Wu)});var F=u(($q,Xu)=>{"use strict";Xu.exports=r=>{if(r==null)return r;let e=/^[A-Z]+$/,t={};return Object.keys(r).reduce((n,i)=>(e.test(i)?n[i.toLowerCase()]=r[i]:e.test(i[0])?n[i[0].toLowerCase()+i.slice(1)]=r[i]:n[i]=r[i],n),t)}});var Zu=u((zq,$i)=>{"use strict";var $1=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;$i.exports=A;$i.exports.default=A;A.nanosecond=A.ns=1/1e6;A.\u00B5s=A.\u03BCs=A.us=A.microsecond=1/1e3;A.millisecond=A.ms=A[""]=1;A.second=A.sec=A.s=A.ms*1e3;A.minute=A.min=A.m=A.s*60;A.hour=A.hr=A.h=A.m*60;A.day=A.d=A.h*24;A.week=A.wk=A.w=A.d*7;A.month=A.b=A.d*(365.25/12);A.year=A.yr=A.y=A.d*365.25;function A(r="",e="ms"){var t=null;return r=(r+"").replace(/(\d)[,_](\d)/g,"$1$2"),r.replace($1,function(n,i,s){s=Ju(s),s&&(t=(t||0)+parseFloat(i,10)*s)}),t&&t/(Ju(e)||1)}function Ju(r){return A[r]||A[r.toLowerCase().replace(/s$/,"")]}});var el=u((Hq,Qu)=>{var vt=1e3,Ft=vt*60,kt=Ft*60,lt=kt*24,z1=lt*7,H1=lt*365.25;Qu.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return G1(r);if(t==="number"&&isFinite(r))return e.long?W1(r):V1(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function G1(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*H1;case"weeks":case"week":case"w":return t*z1;case"days":case"day":case"d":return t*lt;case"hours":case"hour":case"hrs":case"hr":case"h":return t*kt;case"minutes":case"minute":case"mins":case"min":case"m":return t*Ft;case"seconds":case"second":case"secs":case"sec":case"s":return t*vt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function V1(r){var e=Math.abs(r);return e>=lt?Math.round(r/lt)+"d":e>=kt?Math.round(r/kt)+"h":e>=Ft?Math.round(r/Ft)+"m":e>=vt?Math.round(r/vt)+"s":r+"ms"}function W1(r){var e=Math.abs(r);return e>=lt?un(r,e,lt,"day"):e>=kt?un(r,e,kt,"hour"):e>=Ft?un(r,e,Ft,"minute"):e>=vt?un(r,e,vt,"second"):r+" ms"}function un(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var rl=u((Gq,tl)=>{function K1(r){t.debug=t,t.default=t,t.coerce=a,t.disable=s,t.enable=i,t.enabled=o,t.humanize=el(),t.destroy=l,Object.keys(r).forEach(f=>{t[f]=r[f]}),t.names=[],t.skips=[],t.formatters={};function e(f){let h=0;for(let w=0;w<f.length;w++)h=(h<<5)-h+f.charCodeAt(w),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=e;function t(f){let h,w=null,_,S;function P(...D){if(!P.enabled)return;let $=P,Y=Number(new Date),le=Y-(h||Y);$.diff=le,$.prev=h,$.curr=Y,h=Y,D[0]=t.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let K=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(fe,ne)=>{if(fe==="%%")return"%";K++;let he=t.formatters[ne];if(typeof he=="function"){let yt=D[K];fe=he.call($,yt),D.splice(K,1),K--}return fe}),t.formatArgs.call($,D),($.log||t.log).apply($,D)}return P.namespace=f,P.useColors=t.useColors(),P.color=t.selectColor(f),P.extend=n,P.destroy=t.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(_!==t.namespaces&&(_=t.namespaces,S=t.enabled(f)),S),set:D=>{w=D}}),typeof t.init=="function"&&t.init(P),P}function n(f,h){let w=t(this.namespace+(typeof h=="undefined"?":":h)+f);return w.log=this.log,w}function i(f){t.save(f),t.namespaces=f,t.names=[],t.skips=[];let h,w=(typeof f=="string"?f:"").split(/[\s,]+/),_=w.length;for(h=0;h<_;h++)!w[h]||(f=w[h].replace(/\*/g,".*?"),f[0]==="-"?t.skips.push(new RegExp("^"+f.substr(1)+"$")):t.names.push(new RegExp("^"+f+"$")))}function s(){let f=[...t.names.map(c),...t.skips.map(c).map(h=>"-"+h)].join(",");return t.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let h,w;for(h=0,w=t.skips.length;h<w;h++)if(t.skips[h].test(f))return!1;for(h=0,w=t.names.length;h<w;h++)if(t.names[h].test(f))return!0;return!1}function c(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function a(f){return f instanceof Error?f.stack||f.message:f}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}tl.exports=K1});var zi=u((ue,ln)=>{ue.formatArgs=X1;ue.save=J1;ue.load=Z1;ue.useColors=Y1;ue.storage=Q1();ue.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ue.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Y1(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function X1(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+ln.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}ue.log=console.debug||console.log||(()=>{});function J1(r){try{r?ue.storage.setItem("debug",r):ue.storage.removeItem("debug")}catch(e){}}function Z1(){let r;try{r=ue.storage.getItem("debug")}catch(e){}return!r&&typeof process!="undefined"&&"env"in process&&(r=process.env.DEBUG),r}function Q1(){try{return localStorage}catch(r){}}ln.exports=rl()(ue);var{formatters:e2}=ln.exports;e2.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var il=u((Vq,nl)=>{var{Multiaddr:t2}=z(),fn=(r,e)=>e,r2=(r,e,t,n)=>{if(n&&n.assumeHttp===!1)return`tcp://${r}:${e}`;let i="tcp",s=`:${e}`;return t[t.length-1].protocol==="tcp"&&(i=e==="443"?"https":"http",s=e==="443"||e==="80"?"":s),`${i}://${r}${s}`},n2={ip4:fn,ip6:(r,e,t,n)=>n.length===1&&n[0].protocol==="ip6"?e:`[${e}]`,tcp:(r,e,t,n,i)=>n.some(s=>["http","https","ws","wss"].includes(s.protocol))?`${r}:${e}`:r2(r,e,n,i),udp:(r,e)=>`udp://${r}:${e}`,dnsaddr:fn,dns4:fn,dns6:fn,ipfs:(r,e)=>`${r}/ipfs/${e}`,p2p:(r,e)=>`${r}/p2p/${e}`,http:r=>`http://${r}`,https:r=>`https://${r}`,ws:r=>`ws://${r}`,wss:r=>`wss://${r}`,"p2p-websocket-star":r=>`${r}/p2p-websocket-star`,"p2p-webrtc-star":r=>`${r}/p2p-webrtc-star`,"p2p-webrtc-direct":r=>`${r}/p2p-webrtc-direct`};nl.exports=(r,e)=>{let t=new t2(r),n=r.toString().split("/").slice(1);return t.tuples().map(i=>({protocol:n.shift(),content:i[1]?n.shift():null})).reduce((i,s,o,c)=>{let a=n2[s.protocol];if(!a)throw new Error(`Unsupported protocol ${s.protocol}`);return a(i,s.content,o,c,e)},"")}});var ol=u((Wq,sl)=>{"use strict";var{Multiaddr:i2}=z(),s2=il();sl.exports=r=>{try{r=s2(new i2(r))}catch(e){}return r=r.toString(),r}});var al=u(()=>{});var cl=u(()=>{});var dn=u((Zq,pl)=>{"use strict";var{Multiaddr:ul}=z(),{isBrowser:Hi,isWebWorker:Gi,isNode:o2}=ui(),{default:a2}=Zu(),ll=zi()("ipfs-http-client:lib:error-handler"),hn=bi(),c2=pi().bind({ignoreUndefined:!0}),fl=ol(),u2=al(),l2=cl(),f2=Hi||Gi?location.protocol:"http",h2=Hi||Gi?location.hostname:"localhost",d2=Hi||Gi?location.port:"5001",p2=(r={})=>{let e,t={},n;if(typeof r=="string"||ul.isMultiaddr(r))e=new URL(fl(r));else if(r instanceof URL)e=r;else if(typeof r.url=="string"||ul.isMultiaddr(r.url))e=new URL(fl(r.url)),t=r;else if(r.url instanceof URL)e=r.url,t=r;else{t=r||{};let i=(t.protocol||f2).replace(":",""),s=(t.host||h2).split(":")[0],o=t.port||d2;e=new URL(`${i}://${s}:${o}`)}if(t.apiPath?e.pathname=t.apiPath:(e.pathname==="/"||e.pathname===void 0)&&(e.pathname="api/v0"),o2){let i=e.protocol.startsWith("https")?l2.Agent:u2.Agent;n=t.agent||new i({keepAlive:!0,maxSockets:6})}return{...t,host:e.host,protocol:e.protocol.replace(":",""),port:Number(e.port),apiPath:e.pathname,url:e,agent:n}},hl=async r=>{let e;try{if((r.headers.get("Content-Type")||"").startsWith("application/json")){let n=await r.json();ll(n),e=n.Message||n.message}else e=await r.text()}catch(n){ll("Failed to parse error response",n),e=n.message}let t=new hn.HTTPError(r);throw e&&e.includes("context deadline exceeded")&&(t=new hn.TimeoutError("Request timed out")),e&&e.includes("request timed out")&&(t=new hn.TimeoutError("Request timed out")),e&&(t.message=e),t},m2=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,dl=r=>r.replace(m2,function(e){return"-"+e.toLowerCase()}),g2=r=>typeof r=="string"?a2(r):r,Vi=class extends hn{constructor(e={}){let t=p2(e);super({timeout:g2(t.timeout||0)||6e4*20,headers:t.headers,base:`${t.url}`,handleError:hl,transformSearchParams:i=>{let s=new URLSearchParams;for(let[o,c]of i)c!=="undefined"&&c!=="null"&&o!=="signal"&&s.append(dl(o),c),o==="timeout"&&!isNaN(c)&&s.append(dl(o),c);return s},agent:t.agent});delete this.get,delete this.put,delete this.delete,delete this.options;let n=this.fetch;this.fetch=(i,s={})=>(typeof i=="string"&&!i.startsWith("/")&&(i=`${t.url}/${i}`),n.call(this,i,c2(s,{method:"POST"})))}};Vi.errorHandler=hl;pl.exports=Vi});var m=u((Qq,ml)=>{"use strict";var y2=dn(),w2=r=>e=>r(new y2(e),e);ml.exports=w2});var Wi=u((eA,gl)=>{"use strict";function b2(r){let[e,t]=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>e.next(),push:i=>{n.push(i)},next:()=>n.length?{done:!1,value:n.shift()}:e.next(),[t](){return this}}}gl.exports=b2});var Ki=u((tA,yl)=>{"use strict";async function*E2(r,e={}){let t=r.getReader();try{for(;;){let n=await t.read();if(n.done)return;yield n.value}}finally{e.preventCancel!==!0&&t.cancel(),t.releaseLock()}}yl.exports=E2});var bl=u((rA,wl)=>{"use strict";var S2=async r=>{let e=[];for await(let t of r)e.push(t);return e};wl.exports=S2});var Yi=u((nA,El)=>{"use strict";function _2(r){return ArrayBuffer.isView(r)||r instanceof ArrayBuffer}function x2(r){return r.constructor&&(r.constructor.name==="Blob"||r.constructor.name==="File")&&typeof r.stream=="function"}function I2(r){return typeof r=="object"&&(r.path||r.content)}var B2=r=>r&&typeof r.getReader=="function";El.exports={isBytes:_2,isBlob:x2,isFileObject:I2,isReadableStream:B2}});var Il=u((iA,xl)=>{"use strict";var q2=ze(),A2=Wi(),T2=Ki(),P2=bl(),{isBytes:Sl,isBlob:C2,isReadableStream:N2}=Yi();async function O2(r){if(Sl(r))return new Blob([r]);if(typeof r=="string"||r instanceof String)return new Blob([r.toString()]);if(C2(r))return r;if(N2(r)&&(r=T2(r)),Symbol.iterator in r||Symbol.asyncIterator in r){let e=A2(r),{value:t,done:n}=await e.peek();if(n)return _l(e);if(e.push(t),Number.isInteger(t))return new Blob([Uint8Array.from(await P2(e))]);if(Sl(t)||typeof t=="string"||t instanceof String)return _l(e)}throw q2(new Error(`Unexpected input: ${r}`),"ERR_UNEXPECTED_INPUT")}async function _l(r){let e=[];for await(let t of r)e.push(t);return new Blob(e)}xl.exports=O2});var Xi=u((sA,Bl)=>{"use strict";var U2=async function*(r,e){for await(let t of r)yield e(t)};Bl.exports=U2});var Al=u((oA,ql)=>{"use strict";ql.exports=L2;function L2(r,e){for(var t=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)t[n++]=arguments[i++];return new Promise(function(c,a){t[n]=function(f){if(s)if(s=!1,f)a(f);else{for(var h=new Array(arguments.length-1),w=0;w<h.length;)h[w++]=arguments[w];c.apply(null,h)}};try{r.apply(e||null,t)}catch(l){s&&(s=!1,a(l))}})}});var Nl=u(Cl=>{"use strict";var pn=Cl;pn.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&e.charAt(t)==="=";)++n;return Math.ceil(e.length*3)/4-n};var jt=new Array(64),Tl=new Array(123);for(Be=0;Be<64;)Tl[jt[Be]=Be<26?Be+65:Be<52?Be+71:Be<62?Be-4:Be-59|43]=Be++;var Be;pn.encode=function(e,t,n){for(var i=null,s=[],o=0,c=0,a;t<n;){var l=e[t++];switch(c){case 0:s[o++]=jt[l>>2],a=(l&3)<<4,c=1;break;case 1:s[o++]=jt[a|l>>4],a=(l&15)<<2,c=2;break;case 2:s[o++]=jt[a|l>>6],s[o++]=jt[l&63],c=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return c&&(s[o++]=jt[a],s[o++]=61,c===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var Pl="invalid encoding";pn.decode=function(e,t,n){for(var i=n,s=0,o,c=0;c<e.length;){var a=e.charCodeAt(c++);if(a===61&&s>1)break;if((a=Tl[a])===void 0)throw Error(Pl);switch(s){case 0:o=a,s=1;break;case 1:t[n++]=o<<2|(a&48)>>4,o=a,s=2;break;case 2:t[n++]=(o&15)<<4|(a&60)>>2,o=a,s=3;break;case 3:t[n++]=(o&3)<<6|a,s=0;break}}if(s===1)throw Error(Pl);return n-i};pn.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Ul=u((cA,Ol)=>{"use strict";Ol.exports=mn;function mn(){this._listeners={}}mn.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this};mn.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this};mn.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this}});var jl=u((uA,kl)=>{"use strict";kl.exports=Ll(Ll);function Ll(r){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),n=t[3]===128;function i(a,l,f){e[0]=a,l[f]=t[0],l[f+1]=t[1],l[f+2]=t[2],l[f+3]=t[3]}function s(a,l,f){e[0]=a,l[f]=t[3],l[f+1]=t[2],l[f+2]=t[1],l[f+3]=t[0]}r.writeFloatLE=n?i:s,r.writeFloatBE=n?s:i;function o(a,l){return t[0]=a[l],t[1]=a[l+1],t[2]=a[l+2],t[3]=a[l+3],e[0]}function c(a,l){return t[3]=a[l],t[2]=a[l+1],t[1]=a[l+2],t[0]=a[l+3],e[0]}r.readFloatLE=n?o:c,r.readFloatBE=n?c:o}():function(){function e(n,i,s,o){var c=i<0?1:0;if(c&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((c<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((c<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var a=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-a)*8388608)&8388607;n((c<<31|a+127<<23|l)>>>0,s,o)}}r.writeFloatLE=e.bind(null,Rl),r.writeFloatBE=e.bind(null,Dl);function t(n,i,s){var o=n(i,s),c=(o>>31)*2+1,a=o>>>23&255,l=o&8388607;return a===255?l?NaN:c*(1/0):a===0?c*1401298464324817e-60*l:c*Math.pow(2,a-150)*(l+8388608)}r.readFloatLE=t.bind(null,vl),r.readFloatBE=t.bind(null,Fl)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),n=t[7]===128;function i(a,l,f){e[0]=a,l[f]=t[0],l[f+1]=t[1],l[f+2]=t[2],l[f+3]=t[3],l[f+4]=t[4],l[f+5]=t[5],l[f+6]=t[6],l[f+7]=t[7]}function s(a,l,f){e[0]=a,l[f]=t[7],l[f+1]=t[6],l[f+2]=t[5],l[f+3]=t[4],l[f+4]=t[3],l[f+5]=t[2],l[f+6]=t[1],l[f+7]=t[0]}r.writeDoubleLE=n?i:s,r.writeDoubleBE=n?s:i;function o(a,l){return t[0]=a[l],t[1]=a[l+1],t[2]=a[l+2],t[3]=a[l+3],t[4]=a[l+4],t[5]=a[l+5],t[6]=a[l+6],t[7]=a[l+7],e[0]}function c(a,l){return t[7]=a[l],t[6]=a[l+1],t[5]=a[l+2],t[4]=a[l+3],t[3]=a[l+4],t[2]=a[l+5],t[1]=a[l+6],t[0]=a[l+7],e[0]}r.readDoubleLE=n?o:c,r.readDoubleBE=n?c:o}():function(){function e(n,i,s,o,c,a){var l=o<0?1:0;if(l&&(o=-o),o===0)n(0,c,a+i),n(1/o>0?0:2147483648,c,a+s);else if(isNaN(o))n(0,c,a+i),n(2146959360,c,a+s);else if(o>17976931348623157e292)n(0,c,a+i),n((l<<31|2146435072)>>>0,c,a+s);else{var f;if(o<22250738585072014e-324)f=o/5e-324,n(f>>>0,c,a+i),n((l<<31|f/4294967296)>>>0,c,a+s);else{var h=Math.floor(Math.log(o)/Math.LN2);h===1024&&(h=1023),f=o*Math.pow(2,-h),n(f*4503599627370496>>>0,c,a+i),n((l<<31|h+1023<<20|f*1048576&1048575)>>>0,c,a+s)}}}r.writeDoubleLE=e.bind(null,Rl,0,4),r.writeDoubleBE=e.bind(null,Dl,4,0);function t(n,i,s,o,c){var a=n(o,c+i),l=n(o,c+s),f=(l>>31)*2+1,h=l>>>20&2047,w=4294967296*(l&1048575)+a;return h===2047?w?NaN:f*(1/0):h===0?f*5e-324*w:f*Math.pow(2,h-1075)*(w+4503599627370496)}r.readDoubleLE=t.bind(null,vl,0,4),r.readDoubleBE=t.bind(null,Fl,4,0)}(),r}function Rl(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function Dl(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function vl(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function Fl(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var Ml=u((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var zl=u($l=>{"use strict";var Ji=$l;Ji.length=function(e){for(var t=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?t+=1:n<2048?t+=2:(n&64512)==55296&&(e.charCodeAt(i+1)&64512)==56320?(++i,t+=4):t+=3;return t};Ji.read=function(e,t,n){var i=n-t;if(i<1)return"";for(var s=null,o=[],c=0,a;t<n;)a=e[t++],a<128?o[c++]=a:a>191&&a<224?o[c++]=(a&31)<<6|e[t++]&63:a>239&&a<365?(a=((a&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[c++]=55296+(a>>10),o[c++]=56320+(a&1023)):o[c++]=(a&15)<<12|(e[t++]&63)<<6|e[t++]&63,c>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),c=0);return s?(c&&s.push(String.fromCharCode.apply(String,o.slice(0,c))),s.join("")):String.fromCharCode.apply(String,o.slice(0,c))};Ji.write=function(e,t,n){for(var i=n,s,o,c=0;c<e.length;++c)s=e.charCodeAt(c),s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)==55296&&((o=e.charCodeAt(c+1))&64512)==56320?(s=65536+((s&1023)<<10)+(o&1023),++c,t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128);return n-i}});var Gl=u((fA,Hl)=>{"use strict";Hl.exports=R2;function R2(r,e,t){var n=t||8192,i=n>>>1,s=null,o=n;return function(a){if(a<1||a>i)return r(a);o+a>n&&(s=r(n),o=0);var l=e.call(s,o,o+=a);return o&7&&(o=(o|7)+1),l}}});var Wl=u((hA,Vl)=>{"use strict";Vl.exports=G;var pr=tt();function G(r,e){this.lo=r>>>0,this.hi=e>>>0}var ft=G.zero=new G(0,0);ft.toNumber=function(){return 0};ft.zzEncode=ft.zzDecode=function(){return this};ft.length=function(){return 1};var D2=G.zeroHash="\0\0\0\0\0\0\0\0";G.fromNumber=function(e){if(e===0)return ft;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new G(n,i)};G.from=function(e){if(typeof e=="number")return G.fromNumber(e);if(pr.isString(e))if(pr.Long)e=pr.Long.fromString(e);else return G.fromNumber(parseInt(e,10));return e.low||e.high?new G(e.low>>>0,e.high>>>0):ft};G.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+n*4294967296)}return this.lo+this.hi*4294967296};G.prototype.toLong=function(e){return pr.Long?new pr.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var et=String.prototype.charCodeAt;G.fromHash=function(e){return e===D2?ft:new G((et.call(e,0)|et.call(e,1)<<8|et.call(e,2)<<16|et.call(e,3)<<24)>>>0,(et.call(e,4)|et.call(e,5)<<8|et.call(e,6)<<16|et.call(e,7)<<24)>>>0)};G.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};G.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};G.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};G.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}});var tt=u(Zi=>{"use strict";var E=Zi;E.asPromise=Al();E.base64=Nl();E.EventEmitter=Ul();E.float=jl();E.inquire=Ml();E.utf8=zl();E.pool=Gl();E.LongBits=Wl();E.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);E.global=E.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||Zi;E.emptyArray=Object.freeze?Object.freeze([]):[];E.emptyObject=Object.freeze?Object.freeze({}):{};E.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};E.isString=function(e){return typeof e=="string"||e instanceof String};E.isObject=function(e){return e&&typeof e=="object"};E.isset=E.isSet=function(e,t){var n=e[t];return n!=null&&e.hasOwnProperty(t)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};E.Buffer=function(){try{var r=E.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch(e){return null}}();E._Buffer_from=null;E._Buffer_allocUnsafe=null;E.newBuffer=function(e){return typeof e=="number"?E.Buffer?E._Buffer_allocUnsafe(e):new E.Array(e):E.Buffer?E._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};E.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;E.Long=E.global.dcodeIO&&E.global.dcodeIO.Long||E.global.Long||E.inquire("long");E.key2Re=/^true|false|0|1$/;E.key32Re=/^-?(?:0|[1-9][0-9]*)$/;E.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;E.longToHash=function(e){return e?E.LongBits.from(e).toHash():E.LongBits.zeroHash};E.longFromHash=function(e,t){var n=E.LongBits.fromHash(e);return E.Long?E.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))};function Kl(r,e,t){for(var n=Object.keys(e),i=0;i<n.length;++i)(r[n[i]]===void 0||!t)&&(r[n[i]]=e[n[i]]);return r}E.merge=Kl;E.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Yl(r){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Kl(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return r}}),e.prototype.toString=function(){return this.name+": "+this.message},e}E.newError=Yl;E.ProtocolError=Yl("ProtocolError");E.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(t[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};E.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}};E.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};E._configure=function(){var r=E.Buffer;if(!r){E._Buffer_from=E._Buffer_allocUnsafe=null;return}E._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,n){return new r(t,n)},E._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var ss=u((pA,Ql)=>{"use strict";Ql.exports=C;var ge=tt(),Qi,gn=ge.LongBits,Xl=ge.base64,Jl=ge.utf8;function mr(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function es(){}function v2(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function C(){this.len=0,this.head=new mr(es,0,0),this.tail=this.head,this.states=null}var Zl=function(){return ge.Buffer?function(){return(C.create=function(){return new Qi})()}:function(){return new C}};C.create=Zl();C.alloc=function(e){return new ge.Array(e)};ge.Array!==Array&&(C.alloc=ge.pool(C.alloc,ge.Array.prototype.subarray));C.prototype._push=function(e,t,n){return this.tail=this.tail.next=new mr(e,t,n),this.len+=t,this};function ts(r,e,t){e[t]=r&255}function F2(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function rs(r,e){this.len=r,this.next=void 0,this.val=e}rs.prototype=Object.create(mr.prototype);rs.prototype.fn=F2;C.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new rs((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};C.prototype.int32=function(e){return e<0?this._push(ns,10,gn.fromNumber(e)):this.uint32(e)};C.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function ns(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}C.prototype.uint64=function(e){var t=gn.from(e);return this._push(ns,t.length(),t)};C.prototype.int64=C.prototype.uint64;C.prototype.sint64=function(e){var t=gn.from(e).zzEncode();return this._push(ns,t.length(),t)};C.prototype.bool=function(e){return this._push(ts,1,e?1:0)};function is(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}C.prototype.fixed32=function(e){return this._push(is,4,e>>>0)};C.prototype.sfixed32=C.prototype.fixed32;C.prototype.fixed64=function(e){var t=gn.from(e);return this._push(is,4,t.lo)._push(is,4,t.hi)};C.prototype.sfixed64=C.prototype.fixed64;C.prototype.float=function(e){return this._push(ge.float.writeFloatLE,4,e)};C.prototype.double=function(e){return this._push(ge.float.writeDoubleLE,8,e)};var k2=ge.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]};C.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(ts,1,0);if(ge.isString(e)){var n=C.alloc(t=Xl.length(e));Xl.decode(e,n,0),e=n}return this.uint32(t)._push(k2,t,e)};C.prototype.string=function(e){var t=Jl.length(e);return t?this.uint32(t)._push(Jl.write,t,e):this._push(ts,1,0)};C.prototype.fork=function(){return this.states=new v2(this),this.head=this.tail=new mr(es,0,0),this.len=0,this};C.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new mr(es,0,0),this.len=0),this};C.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this};C.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t};C._configure=function(r){Qi=r,C.create=Zl(),Qi._configure()}});var rf=u((mA,tf)=>{"use strict";tf.exports=Fe;var ef=ss();(Fe.prototype=Object.create(ef.prototype)).constructor=Fe;var rt=tt();function Fe(){ef.call(this)}Fe._configure=function(){Fe.alloc=rt._Buffer_allocUnsafe,Fe.writeBytesBuffer=rt.Buffer&&rt.Buffer.prototype instanceof Uint8Array&&rt.Buffer.prototype.set.name==="set"?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]}};Fe.prototype.bytes=function(e){rt.isString(e)&&(e=rt._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Fe.writeBytesBuffer,t,e),this};function j2(r,e,t){r.length<40?rt.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}Fe.prototype.string=function(e){var t=rt.Buffer.byteLength(e);return this.uint32(t),t&&this._push(j2,t,e),this};Fe._configure()});var cs=u((gA,cf)=>{"use strict";cf.exports=j;var ke=tt(),os,nf=ke.LongBits,M2=ke.utf8;function qe(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function j(r){this.buf=r,this.pos=0,this.len=r.length}var sf=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new j(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new j(e);throw Error("illegal buffer")},of=function(){return ke.Buffer?function(t){return(j.create=function(i){return ke.Buffer.isBuffer(i)?new os(i):sf(i)})(t)}:sf};j.create=of();j.prototype._slice=ke.Array.prototype.subarray||ke.Array.prototype.slice;j.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,qe(this,10);return e}}();j.prototype.int32=function(){return this.uint32()|0};j.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function as(){var r=new nf(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw qe(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw qe(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}j.prototype.bool=function(){return this.uint32()!==0};function yn(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}j.prototype.fixed32=function(){if(this.pos+4>this.len)throw qe(this,4);return yn(this.buf,this.pos+=4)};j.prototype.sfixed32=function(){if(this.pos+4>this.len)throw qe(this,4);return yn(this.buf,this.pos+=4)|0};function af(){if(this.pos+8>this.len)throw qe(this,8);return new nf(yn(this.buf,this.pos+=4),yn(this.buf,this.pos+=4))}j.prototype.float=function(){if(this.pos+4>this.len)throw qe(this,4);var e=ke.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};j.prototype.double=function(){if(this.pos+8>this.len)throw qe(this,4);var e=ke.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};j.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw qe(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)};j.prototype.string=function(){var e=this.bytes();return M2.read(e,0,e.length)};j.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw qe(this,e);this.pos+=e}else do if(this.pos>=this.len)throw qe(this);while(this.buf[this.pos++]&128);return this};j.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!=4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};j._configure=function(r){os=r,j.create=of(),os._configure();var e=ke.Long?"toLong":"toNumber";ke.merge(j.prototype,{int64:function(){return as.call(this)[e](!1)},uint64:function(){return as.call(this)[e](!0)},sint64:function(){return as.call(this).zzDecode()[e](!1)},fixed64:function(){return af.call(this)[e](!0)},sfixed64:function(){return af.call(this)[e](!1)}})}});var hf=u((yA,ff)=>{"use strict";ff.exports=ht;var uf=cs();(ht.prototype=Object.create(uf.prototype)).constructor=ht;var lf=tt();function ht(r){uf.call(this,r)}ht._configure=function(){lf.Buffer&&(ht.prototype._slice=lf.Buffer.prototype.slice)};ht.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};ht._configure()});var pf=u((wA,df)=>{"use strict";df.exports=gr;var us=tt();(gr.prototype=Object.create(us.EventEmitter.prototype)).constructor=gr;function gr(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");us.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}gr.prototype.rpcCall=function r(e,t,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return us.asPromise(r,o,e,t,n,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(a,l){if(a)return o.emit("error",a,e),s(a);if(l===null){o.end(!0);return}if(!(l instanceof n))try{l=n[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(f){return o.emit("error",f,e),s(f)}return o.emit("data",l,e),s(null,l)})}catch(c){o.emit("error",c,e),setTimeout(function(){s(c)},0);return}};gr.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var gf=u(mf=>{"use strict";var $2=mf;$2.Service=pf()});var wf=u((EA,yf)=>{"use strict";yf.exports={}});var Sf=u(Ef=>{"use strict";var te=Ef;te.build="minimal";te.Writer=ss();te.BufferWriter=rf();te.Reader=cs();te.BufferReader=hf();te.util=tt();te.rpc=gf();te.roots=wf();te.configure=bf;function bf(){te.util._configure(),te.Writer._configure(te.BufferWriter),te.Reader._configure(te.BufferReader)}bf()});var xf=u((_A,_f)=>{"use strict";_f.exports=Sf()});var Bf=u((xA,If)=>{"use strict";var nt=xf(),Mt=nt.Reader,ls=nt.Writer,x=nt.util,V=nt.roots["ipfs-unixfs"]||(nt.roots["ipfs-unixfs"]={});V.Data=function(){function r(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.Type=0,r.prototype.Data=x.newBuffer([]),r.prototype.filesize=x.Long?x.Long.fromBits(0,0,!0):0,r.prototype.blocksizes=x.emptyArray,r.prototype.hashType=x.Long?x.Long.fromBits(0,0,!0):0,r.prototype.fanout=x.Long?x.Long.fromBits(0,0,!0):0,r.prototype.mode=0,r.prototype.mtime=null,r.encode=function(t,n){if(n||(n=ls.create()),n.uint32(8).int32(t.Type),t.Data!=null&&Object.hasOwnProperty.call(t,"Data")&&n.uint32(18).bytes(t.Data),t.filesize!=null&&Object.hasOwnProperty.call(t,"filesize")&&n.uint32(24).uint64(t.filesize),t.blocksizes!=null&&t.blocksizes.length)for(var i=0;i<t.blocksizes.length;++i)n.uint32(32).uint64(t.blocksizes[i]);return t.hashType!=null&&Object.hasOwnProperty.call(t,"hashType")&&n.uint32(40).uint64(t.hashType),t.fanout!=null&&Object.hasOwnProperty.call(t,"fanout")&&n.uint32(48).uint64(t.fanout),t.mode!=null&&Object.hasOwnProperty.call(t,"mode")&&n.uint32(56).uint32(t.mode),t.mtime!=null&&Object.hasOwnProperty.call(t,"mtime")&&V.UnixTime.encode(t.mtime,n.uint32(66).fork()).ldelim(),n},r.decode=function(t,n){t instanceof Mt||(t=Mt.create(t));for(var i=n===void 0?t.len:t.pos+n,s=new V.Data;t.pos<i;){var o=t.uint32();switch(o>>>3){case 1:s.Type=t.int32();break;case 2:s.Data=t.bytes();break;case 3:s.filesize=t.uint64();break;case 4:if(s.blocksizes&&s.blocksizes.length||(s.blocksizes=[]),(o&7)==2)for(var c=t.uint32()+t.pos;t.pos<c;)s.blocksizes.push(t.uint64());else s.blocksizes.push(t.uint64());break;case 5:s.hashType=t.uint64();break;case 6:s.fanout=t.uint64();break;case 7:s.mode=t.uint32();break;case 8:s.mtime=V.UnixTime.decode(t,t.uint32());break;default:t.skipType(o&7);break}}if(!s.hasOwnProperty("Type"))throw x.ProtocolError("missing required 'Type'",{instance:s});return s},r.fromObject=function(t){if(t instanceof V.Data)return t;var n=new V.Data;switch(t.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(t.Data!=null&&(typeof t.Data=="string"?x.base64.decode(t.Data,n.Data=x.newBuffer(x.base64.length(t.Data)),0):t.Data.length&&(n.Data=t.Data)),t.filesize!=null&&(x.Long?(n.filesize=x.Long.fromValue(t.filesize)).unsigned=!0:typeof t.filesize=="string"?n.filesize=parseInt(t.filesize,10):typeof t.filesize=="number"?n.filesize=t.filesize:typeof t.filesize=="object"&&(n.filesize=new x.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0))),t.blocksizes){if(!Array.isArray(t.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var i=0;i<t.blocksizes.length;++i)x.Long?(n.blocksizes[i]=x.Long.fromValue(t.blocksizes[i])).unsigned=!0:typeof t.blocksizes[i]=="string"?n.blocksizes[i]=parseInt(t.blocksizes[i],10):typeof t.blocksizes[i]=="number"?n.blocksizes[i]=t.blocksizes[i]:typeof t.blocksizes[i]=="object"&&(n.blocksizes[i]=new x.LongBits(t.blocksizes[i].low>>>0,t.blocksizes[i].high>>>0).toNumber(!0))}if(t.hashType!=null&&(x.Long?(n.hashType=x.Long.fromValue(t.hashType)).unsigned=!0:typeof t.hashType=="string"?n.hashType=parseInt(t.hashType,10):typeof t.hashType=="number"?n.hashType=t.hashType:typeof t.hashType=="object"&&(n.hashType=new x.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0))),t.fanout!=null&&(x.Long?(n.fanout=x.Long.fromValue(t.fanout)).unsigned=!0:typeof t.fanout=="string"?n.fanout=parseInt(t.fanout,10):typeof t.fanout=="number"?n.fanout=t.fanout:typeof t.fanout=="object"&&(n.fanout=new x.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0))),t.mode!=null&&(n.mode=t.mode>>>0),t.mtime!=null){if(typeof t.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=V.UnixTime.fromObject(t.mtime)}return n},r.toObject=function(t,n){n||(n={});var i={};if((n.arrays||n.defaults)&&(i.blocksizes=[]),n.defaults){if(i.Type=n.enums===String?"Raw":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=x.newBuffer(i.Data))),x.Long){var s=new x.Long(0,0,!0);i.filesize=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else i.filesize=n.longs===String?"0":0;if(x.Long){var s=new x.Long(0,0,!0);i.hashType=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else i.hashType=n.longs===String?"0":0;if(x.Long){var s=new x.Long(0,0,!0);i.fanout=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else i.fanout=n.longs===String?"0":0;i.mode=0,i.mtime=null}if(t.Type!=null&&t.hasOwnProperty("Type")&&(i.Type=n.enums===String?V.Data.DataType[t.Type]:t.Type),t.Data!=null&&t.hasOwnProperty("Data")&&(i.Data=n.bytes===String?x.base64.encode(t.Data,0,t.Data.length):n.bytes===Array?Array.prototype.slice.call(t.Data):t.Data),t.filesize!=null&&t.hasOwnProperty("filesize")&&(typeof t.filesize=="number"?i.filesize=n.longs===String?String(t.filesize):t.filesize:i.filesize=n.longs===String?x.Long.prototype.toString.call(t.filesize):n.longs===Number?new x.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0):t.filesize),t.blocksizes&&t.blocksizes.length){i.blocksizes=[];for(var o=0;o<t.blocksizes.length;++o)typeof t.blocksizes[o]=="number"?i.blocksizes[o]=n.longs===String?String(t.blocksizes[o]):t.blocksizes[o]:i.blocksizes[o]=n.longs===String?x.Long.prototype.toString.call(t.blocksizes[o]):n.longs===Number?new x.LongBits(t.blocksizes[o].low>>>0,t.blocksizes[o].high>>>0).toNumber(!0):t.blocksizes[o]}return t.hashType!=null&&t.hasOwnProperty("hashType")&&(typeof t.hashType=="number"?i.hashType=n.longs===String?String(t.hashType):t.hashType:i.hashType=n.longs===String?x.Long.prototype.toString.call(t.hashType):n.longs===Number?new x.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0):t.hashType),t.fanout!=null&&t.hasOwnProperty("fanout")&&(typeof t.fanout=="number"?i.fanout=n.longs===String?String(t.fanout):t.fanout:i.fanout=n.longs===String?x.Long.prototype.toString.call(t.fanout):n.longs===Number?new x.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0):t.fanout),t.mode!=null&&t.hasOwnProperty("mode")&&(i.mode=t.mode),t.mtime!=null&&t.hasOwnProperty("mtime")&&(i.mtime=V.UnixTime.toObject(t.mtime,n)),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,nt.util.toJSONOptions)},r.DataType=function(){var e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),r}();V.UnixTime=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.Seconds=x.Long?x.Long.fromBits(0,0,!1):0,r.prototype.FractionalNanoseconds=0,r.encode=function(t,n){return n||(n=ls.create()),n.uint32(8).int64(t.Seconds),t.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(t,"FractionalNanoseconds")&&n.uint32(21).fixed32(t.FractionalNanoseconds),n},r.decode=function(t,n){t instanceof Mt||(t=Mt.create(t));for(var i=n===void 0?t.len:t.pos+n,s=new V.UnixTime;t.pos<i;){var o=t.uint32();switch(o>>>3){case 1:s.Seconds=t.int64();break;case 2:s.FractionalNanoseconds=t.fixed32();break;default:t.skipType(o&7);break}}if(!s.hasOwnProperty("Seconds"))throw x.ProtocolError("missing required 'Seconds'",{instance:s});return s},r.fromObject=function(t){if(t instanceof V.UnixTime)return t;var n=new V.UnixTime;return t.Seconds!=null&&(x.Long?(n.Seconds=x.Long.fromValue(t.Seconds)).unsigned=!1:typeof t.Seconds=="string"?n.Seconds=parseInt(t.Seconds,10):typeof t.Seconds=="number"?n.Seconds=t.Seconds:typeof t.Seconds=="object"&&(n.Seconds=new x.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber())),t.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=t.FractionalNanoseconds>>>0),n},r.toObject=function(t,n){n||(n={});var i={};if(n.defaults){if(x.Long){var s=new x.Long(0,0,!1);i.Seconds=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else i.Seconds=n.longs===String?"0":0;i.FractionalNanoseconds=0}return t.Seconds!=null&&t.hasOwnProperty("Seconds")&&(typeof t.Seconds=="number"?i.Seconds=n.longs===String?String(t.Seconds):t.Seconds:i.Seconds=n.longs===String?x.Long.prototype.toString.call(t.Seconds):n.longs===Number?new x.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber():t.Seconds),t.FractionalNanoseconds!=null&&t.hasOwnProperty("FractionalNanoseconds")&&(i.FractionalNanoseconds=t.FractionalNanoseconds),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,nt.util.toJSONOptions)},r}();V.Metadata=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.MimeType="",r.encode=function(t,n){return n||(n=ls.create()),t.MimeType!=null&&Object.hasOwnProperty.call(t,"MimeType")&&n.uint32(10).string(t.MimeType),n},r.decode=function(t,n){t instanceof Mt||(t=Mt.create(t));for(var i=n===void 0?t.len:t.pos+n,s=new V.Metadata;t.pos<i;){var o=t.uint32();switch(o>>>3){case 1:s.MimeType=t.string();break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof V.Metadata)return t;var n=new V.Metadata;return t.MimeType!=null&&(n.MimeType=String(t.MimeType)),n},r.toObject=function(t,n){n||(n={});var i={};return n.defaults&&(i.MimeType=""),t.MimeType!=null&&t.hasOwnProperty("MimeType")&&(i.MimeType=t.MimeType),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,nt.util.toJSONOptions)},r}();If.exports=V});var Cf=u((IA,Pf)=>{"use strict";var{Data:Ve}=Bf(),fs=ze(),qf=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],z2=["directory","hamt-sharded-directory"],Af=parseInt("0644",8),Tf=parseInt("0755",8);function wn(r){if(r!=null)return typeof r=="number"?r&4095:(r=r.toString(),r.substring(0,1)==="0"?parseInt(r,8)&4095:parseInt(r,10)&4095)}function hs(r){if(r==null)return;let e;if(r.secs!=null&&(e={secs:r.secs,nsecs:r.nsecs}),r.Seconds!=null&&(e={secs:r.Seconds,nsecs:r.FractionalNanoseconds}),Array.isArray(r)&&(e={secs:r[0],nsecs:r[1]}),r instanceof Date){let t=r.getTime(),n=Math.floor(t/1e3);e={secs:n,nsecs:(t-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw fs(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}var bn=class{static unmarshal(e){let t=Ve.decode(e),n=Ve.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}),i=new bn({type:qf[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return i._originalMode=n.mode||0,i}constructor(e={type:"file"}){let{type:t,data:n,blockSizes:i,hashType:s,fanout:o,mtime:c,mode:a}=e;if(t&&!qf.includes(t))throw fs(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t||"file",this.data=n,this.hashType=s,this.fanout=o,this.blockSizes=i||[],this._originalMode=0,this.mode=wn(a),c&&(this.mtime=hs(c),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?Tf:Af;let t=wn(e);t!==void 0&&(this._mode=t)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&z2.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach(t=>{e+=t}),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=Ve.DataType.Raw;break;case"directory":e=Ve.DataType.Directory;break;case"file":e=Ve.DataType.File;break;case"metadata":e=Ve.DataType.Metadata;break;case"symlink":e=Ve.DataType.Symlink;break;case"hamt-sharded-directory":e=Ve.DataType.HAMTShard;break;default:throw fs(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t=this.data;(!this.data||!this.data.length)&&(t=void 0);let n;this.mode!=null&&(n=this._originalMode&4294963200|(wn(this.mode)||0),n===Af&&!this.isDirectory()&&(n=void 0),n===Tf&&this.isDirectory()&&(n=void 0));let i;if(this.mtime!=null){let o=hs(this.mtime);o&&(i={Seconds:o.secs,FractionalNanoseconds:o.nsecs},i.FractionalNanoseconds===0&&delete i.FractionalNanoseconds)}let s={Type:e,Data:t,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:n,mtime:i};return Ve.encode(s).finish()}};Pf.exports={UnixFS:bn,parseMode:wn,parseMtime:hs}});var vf=u((BA,Df)=>{"use strict";var H2=ze(),G2=Ki(),V2=Wi(),Nf=Xi(),{isBytes:Of,isBlob:Uf,isReadableStream:Lf,isFileObject:Rf}=Yi(),{parseMtime:W2,parseMode:K2}=Cf();Df.exports=async function*(e,t){if(e!=null){if(typeof e=="string"||e instanceof String){yield $t(e.toString(),t);return}if(Of(e)||Uf(e)){yield $t(e,t);return}if(Lf(e)&&(e=G2(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let n=V2(e),{value:i,done:s}=await n.peek();if(s){yield*[];return}if(n.push(i),Number.isInteger(i)||Of(i)){yield $t(n,t);return}if(Rf(i)||Uf(i)||typeof i=="string"||i instanceof String){yield*Nf(n,o=>$t(o,t));return}if(i[Symbol.iterator]||i[Symbol.asyncIterator]||Lf(i)){yield*Nf(n,o=>$t(o,t));return}}if(Rf(e)){yield $t(e,t);return}throw H2(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}};async function $t(r,e){let{path:t,mode:n,mtime:i,content:s}=r,o={path:t||"",mode:K2(n),mtime:W2(i)};return s?o.content=await e(s):t||(o.content=await e(r)),o}});var kf=u((qA,Ff)=>{"use strict";var Y2=Il(),X2=vf();Ff.exports=r=>X2(r,Y2)});var En=u((AA,jf)=>{"use strict";jf.exports=r=>{if(r!=null)return typeof r=="string"?r:r.toString(8).padStart(4,"0")}});var Ae=u((TA,Mf)=>{"use strict";var J2=kf(),Z2=En();async function Q2(r,e,t={}){let n=[],i=new FormData,s=0,o=0;for await(let{content:c,path:a,mode:l,mtime:f}of J2(r)){let h="",w=c?"file":"dir";s>0&&(h=`-${s}`);let _=w+h,S=[];if(l!=null&&S.push(`mode=${Z2(l)}`),f!=null){let{secs:P,nsecs:D}=f;S.push(`mtime=${P}`),D!=null&&S.push(`mtime-nsecs=${D}`)}if(S.length&&(_=`${_}?${S.join("&")}`),c){i.set(_,c,a!=null?encodeURIComponent(a):void 0);let P=o+c.size;n.push({name:a,start:o,end:P}),o=P}else if(a!=null)i.set(_,new File([""],encodeURIComponent(a),{type:"application/x-directory"}));else throw new Error("path or content or both must be set");s++}return{total:o,parts:n,headers:t,body:i}}Mf.exports=Q2});var ds=u((PA,$f)=>{"use strict";var eE=ze();function tE(r){if(r==null)return;let e;if(r.secs!=null&&(e={secs:r.secs,nsecs:r.nsecs}),r.Seconds!=null&&(e={secs:r.Seconds,nsecs:r.FractionalNanoseconds}),Array.isArray(r)&&(e={secs:r[0],nsecs:r[1]}),r instanceof Date){let t=r.getTime(),n=Math.floor(t/1e3);e={secs:n,nsecs:(t-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw eE(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}$f.exports=tE});var g=u((CA,zf)=>{"use strict";var rE=En(),nE=ds();zf.exports=({arg:r,searchParams:e,hashAlg:t,mtime:n,mode:i,...s}={})=>{e&&(s={...s,...e}),t&&(s.hash=t),n!=null&&(n=nE(n),s.mtime=n.secs,s.mtimeNsecs=n.nsecs),i!=null&&(s.mode=rE(i)),s.timeout&&!isNaN(s.timeout)&&(s.timeout=`${s.timeout}ms`),r==null?r=[]:Array.isArray(r)||(r=[r]);let o=new URLSearchParams(s);return r.forEach(c=>o.append("arg",c)),o}});var Te=u((NA,Hf)=>{"use strict";var{anySignal:iE}=yi();function sE(r){return r.filter(Boolean)}Hf.exports=(...r)=>iE(sE(r))});var ps=u((OA,Gf)=>{"use strict";var{CID:oE}=(q(),T),aE=F(),cE=m(),uE=Ae(),lE=g(),fE=Te(),{AbortController:hE}=Q();Gf.exports=cE(r=>{async function*e(t,n={}){let i=new hE,s=fE(i.signal,n.signal),{headers:o,body:c,total:a,parts:l}=await uE(t,i,n.headers),[f,h]=typeof n.progress=="function"?dE(a,l,n.progress):[void 0,void 0],w=await r.post("add",{searchParams:lE({"stream-channels":!0,...n,progress:Boolean(f)}),timeout:n.timeout,onUploadProgress:h,signal:s,headers:o,body:c});for await(let _ of w.ndjson())_=aE(_),_.hash!==void 0?yield mE(_):f&&f(_.bytes||0,_.name)}return e});var dE=(r,e,t)=>e?[void 0,pE(r,e,t)]:[t,void 0],pE=(r,e,t)=>{let n=0,i=e.length;return({loaded:s,total:o})=>{let c=Math.floor(s/o*r);for(;n<i;){let{start:a,end:l,name:f}=e[n];if(c<l){t(c-a,f);break}else t(l-a,f),n+=1}}};function mE({name:r,hash:e,size:t,mode:n,mtime:i,mtimeNsecs:s}){let o={path:r,cid:oE.parse(e),size:parseInt(t)};return n!=null&&(o.mode=parseInt(n,8)),i!=null&&(o.mtime={secs:i,nsecs:s||0}),o}});var yr=u((UA,Vf)=>{"use strict";var gE=async r=>{let e;for await(let t of r)e=t;return e};Vf.exports=gE});var Kf=u((LA,Wf)=>{"use strict";var yE=ps(),wE=yr(),bE=m();Wf.exports=r=>{let e=yE(r);return bE(()=>{async function t(n,i={}){return await wE(e(n,i))}return t})(r)}});var Xf=u((RA,Yf)=>{"use strict";var{CID:EE}=(q(),T),SE=m(),_E=g();Yf.exports=SE(r=>{async function e(t={}){return((await(await r.post("bitswap/wantlist",{timeout:t.timeout,signal:t.signal,searchParams:_E(t),headers:t.headers})).json()).Keys||[]).map(i=>EE.parse(i["/"]))}return e})});var Zf=u((DA,Jf)=>{"use strict";var{CID:xE}=(q(),T),IE=m(),BE=g();Jf.exports=IE(r=>{async function e(t,n={}){return((await(await r.post("bitswap/wantlist",{timeout:n.timeout,signal:n.signal,searchParams:BE({...n,peer:t.toString()}),headers:n.headers})).json()).Keys||[]).map(s=>xE.parse(s["/"]))}return e})});var ms=u((vA,Qf)=>{"use strict";var{CID:qE}=(q(),T),AE=m(),TE=g();Qf.exports=AE(r=>{async function e(t={}){let n=await r.post("bitswap/stat",{searchParams:TE(t),timeout:t.timeout,signal:t.signal,headers:t.headers});return PE(await n.json())}return e});function PE(r){return{provideBufLen:r.ProvideBufLen,wantlist:(r.Wantlist||[]).map(e=>qE.parse(e["/"])),peers:r.Peers||[],blocksReceived:BigInt(r.BlocksReceived),dataReceived:BigInt(r.DataReceived),blocksSent:BigInt(r.BlocksSent),dataSent:BigInt(r.DataSent),dupBlksReceived:BigInt(r.DupBlksReceived),dupDataReceived:BigInt(r.DupDataReceived)}}});var th=u((FA,eh)=>{"use strict";var CE=m(),NE=g();eh.exports=CE(r=>{async function e(t,n={}){return(await r.post("bitswap/unwant",{timeout:n.timeout,signal:n.signal,searchParams:NE({arg:t.toString(),...n}),headers:n.headers})).json()}return e})});var nh=u((kA,rh)=>{"use strict";rh.exports=r=>({wantlist:Xf()(r),wantlistForPeer:Zf()(r),stat:ms()(r),unwant:th()(r)})});var gs=u((jA,ih)=>{"use strict";var OE=m(),UE=g();ih.exports=OE(r=>{async function e(t,n={}){let i=await r.post("block/get",{timeout:n.timeout,signal:n.signal,searchParams:UE({arg:t.toString(),...n}),headers:n.headers});return new Uint8Array(await i.arrayBuffer())}return e})});var oh=u((MA,sh)=>{"use strict";var{CID:LE}=(q(),T),RE=m(),DE=g();sh.exports=RE(r=>{async function e(t,n={}){let s=await(await r.post("block/stat",{timeout:n.timeout,signal:n.signal,searchParams:DE({arg:t.toString(),...n}),headers:n.headers})).json();return{cid:LE.parse(s.Key),size:s.Size}}return e})});var ch=u(($A,ah)=>{"use strict";var{CID:vE}=(q(),T),FE=Ae(),kE=m(),jE=g(),ME=Te(),{AbortController:$E}=Q();ah.exports=kE(r=>{async function e(t,n={}){let i=new $E,s=ME(i.signal,n.signal),o;try{o=await(await r.post("block/put",{timeout:n.timeout,signal:s,searchParams:jE(n),...await FE(t,i,n.headers)})).json()}catch(c){if(n.format==="dag-pb")return e(t,{...n,format:"protobuf"});if(n.format==="dag-cbor")return e(t,{...n,format:"cbor"});throw c}return vE.parse(o.Key)}return e})});var lh=u((zA,uh)=>{"use strict";var{CID:zE}=(q(),T),HE=m(),GE=g();uh.exports=HE(r=>{async function*e(t,n={}){Array.isArray(t)||(t=[t]);let i=await r.post("block/rm",{timeout:n.timeout,signal:n.signal,searchParams:GE({arg:t.map(s=>s.toString()),"stream-channels":!0,...n}),headers:n.headers});for await(let s of i.ndjson())yield VE(s)}return e});function VE(r){let e={cid:zE.parse(r.Hash)};return r.Error&&(e.error=new Error(r.Error)),e}});var hh=u((HA,fh)=>{"use strict";fh.exports=r=>({get:gs()(r),stat:oh()(r),put:ch()(r),rm:lh()(r)})});var ph=u((GA,dh)=>{"use strict";var WE=m(),KE=g(),{Multiaddr:YE}=z();dh.exports=WE(r=>{async function e(t,n={}){let i=await r.post("bootstrap/add",{timeout:n.timeout,signal:n.signal,searchParams:KE({arg:t,...n}),headers:n.headers}),{Peers:s}=await i.json();return{Peers:s.map(o=>new YE(o))}}return e})});var gh=u((VA,mh)=>{"use strict";var XE=m(),JE=g(),{Multiaddr:ZE}=z();mh.exports=XE(r=>{async function e(t={}){let n=await r.post("bootstrap/rm",{timeout:t.timeout,signal:t.signal,searchParams:JE({...t,all:!0}),headers:t.headers}),{Peers:i}=await n.json();return{Peers:i.map(s=>new ZE(s))}}return e})});var wh=u((WA,yh)=>{"use strict";var QE=m(),eS=g(),{Multiaddr:tS}=z();yh.exports=QE(r=>{async function e(t,n={}){let i=await r.post("bootstrap/rm",{timeout:n.timeout,signal:n.signal,searchParams:eS({arg:t,...n}),headers:n.headers}),{Peers:s}=await i.json();return{Peers:s.map(o=>new tS(o))}}return e})});var Eh=u((KA,bh)=>{"use strict";var rS=m(),nS=g(),{Multiaddr:iS}=z();bh.exports=rS(r=>{async function e(t={}){let n=await r.post("bootstrap/add",{timeout:t.timeout,signal:t.signal,searchParams:nS({...t,default:!0}),headers:t.headers}),{Peers:i}=await n.json();return{Peers:i.map(s=>new iS(s))}}return e})});var _h=u((YA,Sh)=>{"use strict";var sS=m(),oS=g(),{Multiaddr:aS}=z();Sh.exports=sS(r=>{async function e(t={}){let n=await r.post("bootstrap/list",{timeout:t.timeout,signal:t.signal,searchParams:oS(t),headers:t.headers}),{Peers:i}=await n.json();return{Peers:i.map(s=>new aS(s))}}return e})});var Ih=u((XA,xh)=>{"use strict";xh.exports=r=>({add:ph()(r),clear:gh()(r),rm:wh()(r),reset:Eh()(r),list:_h()(r)})});var qh=u((JA,Bh)=>{"use strict";var cS=m(),uS=g();Bh.exports=cS(r=>{async function*e(t,n={}){yield*(await r.post("cat",{timeout:n.timeout,signal:n.signal,searchParams:uS({arg:t.toString(),...n}),headers:n.headers})).iterator()}return e})});var Th=u((ZA,Ah)=>{"use strict";var lS=m(),fS=g();Ah.exports=lS(r=>async(t={})=>(await r.post("commands",{timeout:t.timeout,signal:t.signal,searchParams:fS(t),headers:t.headers})).json())});var Ch=u((QA,Ph)=>{"use strict";var hS=m(),dS=g();Ph.exports=hS(r=>async(t={})=>await(await r.post("config/show",{timeout:t.timeout,signal:t.signal,searchParams:dS({...t}),headers:t.headers})).json())});var Oh=u((eT,Nh)=>{"use strict";var pS=m(),mS=g();Nh.exports=pS(r=>async(t,n={})=>{if(!t)throw new Error("key argument is required");return(await(await r.post("config",{timeout:n.timeout,signal:n.signal,searchParams:mS({arg:t,...n}),headers:n.headers})).json()).Value})});var Lh=u((tT,Uh)=>{"use strict";var gS=m(),yS=g();Uh.exports=gS(r=>async(t,n,i={})=>{if(typeof t!="string")throw new Error("Invalid key type");let s={...i,...wS(t,n)};await(await r.post("config",{timeout:i.timeout,signal:i.signal,searchParams:yS(s),headers:i.headers})).text()});var wS=(r,e)=>{switch(typeof e){case"boolean":return{arg:[r,e.toString()],bool:!0};case"string":return{arg:[r,e]};default:return{arg:[r,JSON.stringify(e)],json:!0}}}});var Dh=u((rT,Rh)=>{"use strict";var bS=Bt(),ES=Ae(),SS=m(),_S=g(),xS=Te(),{AbortController:IS}=Q();Rh.exports=SS(r=>async(t,n={})=>{let i=new IS,s=xS(i.signal,n.signal);await(await r.post("config/replace",{timeout:n.timeout,signal:s,searchParams:_S(n),...await ES(bS(JSON.stringify(t)),i,n.headers)})).text()})});var Fh=u((nT,vh)=>{"use strict";var BS=m(),qS=g();vh.exports=BS(r=>{async function e(t,n={}){let s=await(await r.post("config/profile/apply",{timeout:n.timeout,signal:n.signal,searchParams:qS({arg:t,...n}),headers:n.headers})).json();return{original:s.OldCfg,updated:s.NewCfg}}return e})});var jh=u((iT,kh)=>{"use strict";var AS=F(),TS=m(),PS=g();kh.exports=TS(r=>{async function e(t={}){return(await(await r.post("config/profile/list",{timeout:t.timeout,signal:t.signal,searchParams:PS(t),headers:t.headers})).json()).map(s=>AS(s))}return e})});var $h=u((sT,Mh)=>{"use strict";Mh.exports=r=>({apply:Fh()(r),list:jh()(r)})});var Hh=u((oT,zh)=>{"use strict";zh.exports=r=>({getAll:Ch()(r),get:Oh()(r),set:Lh()(r),replace:Dh()(r),profiles:$h()(r)})});var Vh=u((aT,Gh)=>{"use strict";var CS=m(),NS=g();Gh.exports=CS(r=>{async function*e(t,n={}){yield*(await r.post("dag/export",{timeout:n.timeout,signal:n.signal,searchParams:NS({arg:t.toString()}),headers:n.headers})).iterator()}return e})});var Yh=u((cT,Kh)=>{"use strict";var{CID:OS}=(q(),T),Wh=ze(),US=async function*(r,e,t,n,i){let s=async l=>{let f=await t.getCodec(l.code),h=await n(l,i);return f.decode(h)},o=e.split("/").filter(Boolean),c=await s(r),a=r;for(o.length||(yield{value:c,remainderPath:""});o.length;){let l=o.shift();if(!l)throw Wh(new Error(`Could not resolve path "${e}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(c,l))c=c[l],yield{value:c,remainderPath:o.join("/")};else throw Wh(new Error(`no link named "${l}" under ${a}`),"ERR_NO_LINK");c instanceof OS&&(a=c,c=await s(c))}};Kh.exports=US});var Jh=u((uT,Xh)=>{"use strict";var LS=async r=>{for await(let e of r)return e};Xh.exports=LS});var ed=u((lT,Qh)=>{"use strict";var RS=m(),Zh=Yh(),DS=Jh(),vS=yr(),FS=ze();Qh.exports=(r,e)=>RS((n,i)=>{let s=gs()(i);return async(c,a={})=>{if(a.path){let _=a.localResolve?await DS(Zh(c,a.path,r,s,a)):await vS(Zh(c,a.path,r,s,a));if(!_)throw FS(new Error("Not found"),"ERR_NOT_FOUND");return _}let l=await r.getCodec(c.code),f=await s(c,a);return{value:l.decode(f),remainderPath:""}}})(e)});var rd=u((fT,td)=>{"use strict";var kS=m(),jS=g(),MS=Te(),$S=Ae(),{AbortController:zS}=Q(),{CID:HS}=(q(),T);td.exports=kS(r=>{async function*e(t,n={}){let i=new zS,s=MS(i.signal,n.signal),{headers:o,body:c}=await $S(t,i,n.headers),a=await r.post("dag/import",{timeout:n.timeout,signal:s,headers:o,body:c,searchParams:jS({"pin-roots":n.pinRoots})});for await(let{Root:l}of a.ndjson())if(l!==void 0){let{Cid:{"/":f},PinErrorMsg:h}=l;yield{root:{cid:HS.parse(f),pinErrorMsg:h}}}}return e})});var ys=u((hT,nd)=>{"use strict";var{CID:GS}=(q(),T),VS=m(),WS=Ae(),KS=g(),YS=Te(),{AbortController:XS}=Q();nd.exports=(r,e)=>VS(n=>async(s,o={})=>{let c={format:"dag-cbor",hashAlg:"sha2-256",inputEnc:"raw",...o},l=(await r.getCodec(c.format)).encode(s),f=new XS,h=YS(f.signal,c.signal),_=await(await n.post("dag/put",{timeout:c.timeout,signal:h,searchParams:KS(c),...await WS(l,f,c.headers)})).json();return GS.parse(_.Cid["/"])})(e)});var sd=u((dT,id)=>{"use strict";var{CID:JS}=(q(),T),ZS=m(),QS=g();id.exports=ZS(r=>async(t,n={})=>{let s=await(await r.post("dag/resolve",{timeout:n.timeout,signal:n.signal,searchParams:QS({arg:`${t}${n.path?`/${n.path}`.replace(/\/[/]+/g,"/"):""}`,...n}),headers:n.headers})).json();return{cid:JS.parse(s.Cid["/"]),remainderPath:s.RemPath}})});var ad=u((pT,od)=>{"use strict";od.exports=(r,e)=>({export:Vh()(e),get:ed()(r,e),import:rd()(e),put:ys()(r,e),resolve:sd()(e)})});var Sn=u((mT,cd)=>{"use strict";cd.exports={SendingQuery:0,PeerResponse:1,FinalPeer:2,QueryError:3,Provider:4,Value:5,AddingPeer:6,DialingPeer:7}});var ld=u((gT,ud)=>{"use strict";var e_=m(),t_=g(),{Value:r_}=Sn(),n_=ut(),i_=Bt();ud.exports=e_(r=>{async function e(t,n={}){let i=await r.post("dht/get",{timeout:n.timeout,signal:n.signal,searchParams:t_({arg:t instanceof Uint8Array?n_(t):t,...n}),headers:n.headers});for await(let s of i.ndjson())if(s.Type===r_)return i_(s.Extra,"base64pad");throw new Error("not found")}return e})});var hd=u((yT,fd)=>{"use strict";var{Multiaddr:s_}=z(),o_=F(),a_=m(),c_=g(),u_=Ae(),l_=Te(),{AbortController:f_}=Q();fd.exports=a_(r=>{async function*e(t,n,i={}){let s=new f_,o=l_(s.signal,i.signal),c=await r.post("dht/put",{timeout:i.timeout,signal:o,searchParams:c_({arg:t,...i}),...await u_(n,s,i.headers)});for await(let a of c.ndjson())a=o_(a),a.responses&&(a.responses=a.responses.map(({ID:l,Addrs:f})=>({id:l,addrs:(f||[]).map(h=>new s_(h))}))),yield a}return e})});var pd=u((wT,dd)=>{"use strict";var{Multiaddr:h_}=z(),d_=m(),p_=g(),{Provider:m_}=Sn();dd.exports=d_(r=>{async function*e(t,n={}){let i=await r.post("dht/findprovs",{timeout:n.timeout,signal:n.signal,searchParams:p_({arg:t.toString(),...n}),headers:n.headers});for await(let s of i.ndjson())if(s.Type===m_&&s.Responses)for(let{ID:o,Addrs:c}of s.Responses)yield{id:o,addrs:(c||[]).map(a=>new h_(a))}}return e})});var gd=u((bT,md)=>{"use strict";var{Multiaddr:g_}=z(),y_=m(),w_=g(),{FinalPeer:b_}=Sn();md.exports=y_(r=>{async function e(t,n={}){let i=await r.post("dht/findpeer",{timeout:n.timeout,signal:n.signal,searchParams:w_({arg:t,...n}),headers:n.headers});for await(let s of i.ndjson())if(s.Type===b_&&s.Responses){let{ID:o,Addrs:c}=s.Responses[0];return{id:o,addrs:(c||[]).map(a=>new g_(a))}}throw new Error("not found")}return e})});var wd=u((ET,yd)=>{"use strict";var{Multiaddr:E_}=z(),S_=F(),__=m(),x_=g();yd.exports=__(r=>{async function*e(t,n={recursive:!1}){let i=Array.isArray(t)?t:[t],s=await r.post("dht/provide",{timeout:n.timeout,signal:n.signal,searchParams:x_({arg:i.map(o=>o.toString()),...n}),headers:n.headers});for await(let o of s.ndjson())o=S_(o),o.responses?o.responses=o.responses.map(({ID:c,Addrs:a})=>({id:c,addrs:(a||[]).map(l=>new E_(l))})):o.responses=[],yield o}return e})});var Ed=u((ST,bd)=>{"use strict";var{Multiaddr:I_}=z(),B_=F(),q_=m(),A_=g();bd.exports=q_(r=>{async function*e(t,n={}){let i=await r.post("dht/query",{timeout:n.timeout,signal:n.signal,searchParams:A_({arg:t.toString(),...n}),headers:n.headers});for await(let s of i.ndjson())s=B_(s),s.responses=(s.responses||[]).map(({ID:o,Addrs:c})=>({id:o,addrs:(c||[]).map(a=>new I_(a))})),yield s}return e})});var _d=u((_T,Sd)=>{"use strict";Sd.exports=r=>({get:ld()(r),put:hd()(r),findProvs:pd()(r),findPeer:gd()(r),provide:wd()(r),query:Ed()(r)})});var Id=u((xT,xd)=>{"use strict";var T_=m(),P_=g();xd.exports=T_(r=>{async function e(t={}){return(await r.post("diag/net",{timeout:t.timeout,signal:t.signal,searchParams:P_(t),headers:t.headers})).json()}return e})});var qd=u((IT,Bd)=>{"use strict";var C_=m(),N_=g();Bd.exports=C_(r=>{async function e(t={}){return(await r.post("diag/sys",{timeout:t.timeout,signal:t.signal,searchParams:N_(t),headers:t.headers})).json()}return e})});var Td=u((BT,Ad)=>{"use strict";var O_=m(),U_=g();Ad.exports=O_(r=>{async function e(t={}){return(await r.post("diag/cmds",{timeout:t.timeout,signal:t.signal,searchParams:U_(t),headers:t.headers})).json()}return e})});var Cd=u((qT,Pd)=>{"use strict";Pd.exports=r=>({net:Id()(r),sys:qd()(r),cmds:Td()(r)})});var Od=u((AT,Nd)=>{"use strict";var L_=m(),R_=g();Nd.exports=L_(r=>async(t,n={})=>(await(await r.post("dns",{timeout:n.timeout,signal:n.signal,searchParams:R_({arg:t,...n}),headers:n.headers})).json()).Path)});var Ld=u((TT,Ud)=>{"use strict";var D_=m(),v_=g();Ud.exports=D_(r=>{async function e(t,n,i={}){await(await r.post("files/chmod",{timeout:i.timeout,signal:i.signal,searchParams:v_({arg:t,mode:n,...i}),headers:i.headers})).text()}return e})});var Dd=u((PT,Rd)=>{"use strict";var{CID:F_}=(q(),T),k_=m(),j_=g();Rd.exports=k_(r=>{async function e(t,n,i={}){let s=Array.isArray(t)?t:[t];await(await r.post("files/cp",{timeout:i.timeout,signal:i.signal,searchParams:j_({arg:s.concat(n).map(c=>c instanceof F_?`/ipfs/${c}`:c),...i}),headers:i.headers})).text()}return e})});var Fd=u((CT,vd)=>{"use strict";var{CID:M_}=(q(),T),$_=m(),z_=g();vd.exports=$_(r=>{async function e(t,n={}){if(!t||typeof t!="string")throw new Error("ipfs.files.flush requires a path");let s=await(await r.post("files/flush",{timeout:n.timeout,signal:n.signal,searchParams:z_({arg:t,...n}),headers:n.headers})).json();return M_.parse(s.Cid)}return e})});var ws=u((NT,kd)=>{"use strict";var H_=F();function G_(r){let e=H_(r);return Object.prototype.hasOwnProperty.call(e,"mode")&&(e.mode=parseInt(e.mode,8)),Object.prototype.hasOwnProperty.call(e,"mtime")&&(e.mtime={secs:e.mtime,nsecs:e.mtimeNsecs||0},delete e.mtimeNsecs),e}kd.exports=G_});var Hd=u((OT,zd)=>{"use strict";var{CID:jd}=(q(),T),Md=ws(),V_=m(),W_=g();zd.exports=V_(r=>{async function*e(t,n={}){if(!t)throw new Error("ipfs.files.ls requires a path");let i=await r.post("files/ls",{timeout:n.timeout,signal:n.signal,searchParams:W_({arg:t instanceof jd?`/ipfs/${t}`:t,long:!0,...n,stream:!0}),headers:n.headers});for await(let s of i.ndjson())if("Entries"in s)for(let o of s.Entries||[])yield $d(Md(o));else yield $d(Md(s))}return e});function $d(r){return r.hash&&(r.cid=jd.parse(r.hash)),delete r.hash,r.type=r.type===1?"directory":"file",r}});var Vd=u((UT,Gd)=>{"use strict";var K_=m(),Y_=g();Gd.exports=K_(r=>{async function e(t,n={}){await(await r.post("files/mkdir",{timeout:n.timeout,signal:n.signal,searchParams:Y_({arg:t,...n}),headers:n.headers})).text()}return e})});var Kd=u((LT,Wd)=>{"use strict";var X_=m(),J_=g();Wd.exports=X_(r=>{async function e(t,n,i={}){Array.isArray(t)||(t=[t]),await(await r.post("files/mv",{timeout:i.timeout,signal:i.signal,searchParams:J_({arg:t.concat(n),...i}),headers:i.headers})).text()}return e})});var Xd=u((RT,Yd)=>{Yd.exports=r=>{if(r[Symbol.asyncIterator])return r;if(r.getReader)return async function*(){let e=r.getReader();try{for(;;){let{done:t,value:n}=await e.read();if(t)return;yield n}}finally{e.releaseLock()}}();throw new Error("unknown stream")}});var Zd=u((DT,Jd)=>{"use strict";var Z_=Xd(),Q_=m(),ex=g();Jd.exports=Q_(r=>{async function*e(t,n={}){let i=await r.post("files/read",{timeout:n.timeout,signal:n.signal,searchParams:ex({arg:t,count:n.length,...n}),headers:n.headers});yield*Z_(i.body)}return e})});var ep=u((vT,Qd)=>{"use strict";var tx=m(),rx=g();Qd.exports=tx(r=>{async function e(t,n={}){await(await r.post("files/rm",{timeout:n.timeout,signal:n.signal,searchParams:rx({arg:t,...n}),headers:n.headers})).text()}return e})});var bs=u((FT,rp)=>{"use strict";var{CID:tp}=(q(),T),nx=ws(),ix=m(),sx=g();rp.exports=ix(r=>{async function e(t,n={}){t&&!(t instanceof tp)&&typeof t!="string"&&(n=t||{},t="/"),n=n||{};let s=await(await r.post("files/stat",{timeout:n.timeout,signal:n.signal,searchParams:sx({arg:t,...n}),headers:n.headers})).json();return s.WithLocality=s.WithLocality||!1,ox(nx(s))}return e});function ox(r){return r.cid=tp.parse(r.hash),delete r.hash,r}});var ip=u((kT,np)=>{"use strict";var ax=m(),cx=g();np.exports=ax(r=>{async function e(t,n={}){await(await r.post("files/touch",{timeout:n.timeout,signal:n.signal,searchParams:cx({arg:t,...n}),headers:n.headers})).text()}return e})});var op=u((jT,sp)=>{"use strict";var ux=En(),lx=ds(),fx=m(),hx=Ae(),dx=g(),px=Te(),{AbortController:mx}=Q();sp.exports=fx(r=>{async function e(t,n,i={}){let s=new mx,o=px(s.signal,i.signal);await(await r.post("files/write",{timeout:i.timeout,signal:o,searchParams:dx({arg:t,streamChannels:!0,count:i.length,...i}),...await hx({content:n,path:"arg",mode:ux(i.mode),mtime:lx(i.mtime)},s,i.headers)})).text()}return e})});var cp=u((MT,ap)=>{"use strict";ap.exports=r=>({chmod:Ld()(r),cp:Dd()(r),flush:Fd()(r),ls:Hd()(r),mkdir:Vd()(r),mv:Kd()(r),read:Zd()(r),rm:ep()(r),stat:bs()(r),touch:ip()(r),write:op()(r)})});var lp=u(($T,up)=>{"use strict";var gx=()=>{let r={};return r.promise=new Promise((e,t)=>{r.resolve=e,r.reject=t}),r};up.exports=gx});var dp=u(_n=>{"use strict";_n.byteLength=wx;_n.toByteArray=Ex;_n.fromByteArray=xx;var je=[],ye=[],yx=typeof Uint8Array!="undefined"?Uint8Array:Array,Es="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(dt=0,fp=Es.length;dt<fp;++dt)je[dt]=Es[dt],ye[Es.charCodeAt(dt)]=dt;var dt,fp;ye["-".charCodeAt(0)]=62;ye["_".charCodeAt(0)]=63;function hp(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function wx(r){var e=hp(r),t=e[0],n=e[1];return(t+n)*3/4-n}function bx(r,e,t){return(e+t)*3/4-t}function Ex(r){var e,t=hp(r),n=t[0],i=t[1],s=new yx(bx(r,n,i)),o=0,c=i>0?n-4:n,a;for(a=0;a<c;a+=4)e=ye[r.charCodeAt(a)]<<18|ye[r.charCodeAt(a+1)]<<12|ye[r.charCodeAt(a+2)]<<6|ye[r.charCodeAt(a+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ye[r.charCodeAt(a)]<<2|ye[r.charCodeAt(a+1)]>>4,s[o++]=e&255),i===1&&(e=ye[r.charCodeAt(a)]<<10|ye[r.charCodeAt(a+1)]<<4|ye[r.charCodeAt(a+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Sx(r){return je[r>>18&63]+je[r>>12&63]+je[r>>6&63]+je[r&63]}function _x(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(Sx(n));return i.join("")}function xx(r){for(var e,t=r.length,n=t%3,i=[],s=16383,o=0,c=t-n;o<c;o+=s)i.push(_x(r,o,o+s>c?c:o+s));return n===1?(e=r[t-1],i.push(je[e>>2]+je[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(je[e>>10]+je[e>>4&63]+je[e<<2&63]+"=")),i.join("")}});var pp=u(Ss=>{Ss.read=function(r,e,t,n,i){var s,o,c=i*8-n-1,a=(1<<c)-1,l=a>>1,f=-7,h=t?i-1:0,w=t?-1:1,_=r[e+h];for(h+=w,s=_&(1<<-f)-1,_>>=-f,f+=c;f>0;s=s*256+r[e+h],h+=w,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+r[e+h],h+=w,f-=8);if(s===0)s=1-l;else{if(s===a)return o?NaN:(_?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(_?-1:1)*o*Math.pow(2,s-n)};Ss.write=function(r,e,t,n,i,s){var o,c,a,l=s*8-i-1,f=(1<<l)-1,h=f>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:s-1,S=n?1:-1,P=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),o+h>=1?e+=w/a:e+=w*Math.pow(2,1-h),e*a>=2&&(o++,a/=2),o+h>=f?(c=0,o=f):o+h>=1?(c=(e*a-1)*Math.pow(2,i),o=o+h):(c=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;r[t+_]=c&255,_+=S,c/=256,i-=8);for(o=o<<i|c,l+=i;l>0;r[t+_]=o&255,_+=S,o/=256,l-=8);r[t+_-S]|=P*128}});var mt=u(Vt=>{"use strict";var _s=dp(),zt=pp(),mp=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Vt.Buffer=d;Vt.SlowBuffer=Px;Vt.INSPECT_MAX_BYTES=50;var xn=2147483647;Vt.kMaxLength=xn;d.TYPED_ARRAY_SUPPORT=Ix();!d.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ix(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(r){return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(!!d.isBuffer(this))return this.buffer}});Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(!!d.isBuffer(this))return this.byteOffset}});function We(r){if(r>xn)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,d.prototype),e}function d(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return xs(r)}return gp(r,e,t)}d.poolSize=8192;function gp(r,e,t){if(typeof r=="string")return qx(r,e);if(ArrayBuffer.isView(r))return Ax(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Me(r,ArrayBuffer)||r&&Me(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Me(r,SharedArrayBuffer)||r&&Me(r.buffer,SharedArrayBuffer)))return Bs(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return d.from(n,e,t);let i=Tx(r);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return d.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}d.from=function(r,e,t){return gp(r,e,t)};Object.setPrototypeOf(d.prototype,Uint8Array.prototype);Object.setPrototypeOf(d,Uint8Array);function yp(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Bx(r,e,t){return yp(r),r<=0?We(r):e!==void 0?typeof t=="string"?We(r).fill(e,t):We(r).fill(e):We(r)}d.alloc=function(r,e,t){return Bx(r,e,t)};function xs(r){return yp(r),We(r<0?0:qs(r)|0)}d.allocUnsafe=function(r){return xs(r)};d.allocUnsafeSlow=function(r){return xs(r)};function qx(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!d.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=wp(r,e)|0,n=We(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function Is(r){let e=r.length<0?0:qs(r.length)|0,t=We(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function Ax(r){if(Me(r,Uint8Array)){let e=new Uint8Array(r);return Bs(e.buffer,e.byteOffset,e.byteLength)}return Is(r)}function Bs(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,d.prototype),n}function Tx(r){if(d.isBuffer(r)){let e=qs(r.length)|0,t=We(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Ps(r.length)?We(0):Is(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Is(r.data)}function qs(r){if(r>=xn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+xn.toString(16)+" bytes");return r|0}function Px(r){return+r!=r&&(r=0),d.alloc(+r)}d.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==d.prototype};d.compare=function(e,t){if(Me(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),Me(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<i?-1:i<n?1:0};d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};d.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return d.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=d.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let o=e[n];if(Me(o,Uint8Array))s+o.length>i.length?(d.isBuffer(o)||(o=d.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(d.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function wp(r,e){if(d.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Me(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Ts(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Cp(r).length;default:if(i)return n?-1:Ts(r).length;e=(""+e).toLowerCase(),i=!0}}d.byteLength=wp;function Cx(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return jx(this,e,t);case"utf8":case"utf-8":return Sp(this,e,t);case"ascii":return Fx(this,e,t);case"latin1":case"binary":return kx(this,e,t);case"base64":return Dx(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mx(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}d.prototype._isBuffer=!0;function pt(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}d.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)pt(this,t,t+1);return this};d.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)pt(this,t,t+3),pt(this,t+1,t+2);return this};d.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)pt(this,t,t+7),pt(this,t+1,t+6),pt(this,t+2,t+5),pt(this,t+3,t+4);return this};d.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Sp(this,0,e):Cx.apply(this,arguments)};d.prototype.toLocaleString=d.prototype.toString;d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:d.compare(this,e)===0};d.prototype.inspect=function(){let e="",t=Vt.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};mp&&(d.prototype[mp]=d.prototype.inspect);d.prototype.compare=function(e,t,n,i,s){if(Me(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),t<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&t>=n)return 0;if(i>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,c=n-t,a=Math.min(o,c),l=this.slice(i,s),f=e.slice(t,n);for(let h=0;h<a;++h)if(l[h]!==f[h]){o=l[h],c=f[h];break}return o<c?-1:c<o?1:0};function bp(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Ps(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=d.from(e,n)),d.isBuffer(e))return e.length===0?-1:Ep(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Ep(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function Ep(r,e,t,n,i){let s=1,o=r.length,c=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,c/=2,t/=2}function a(f,h){return s===1?f[h]:f.readUInt16BE(h*s)}let l;if(i){let f=-1;for(l=t;l<o;l++)if(a(r,l)===a(e,f===-1?0:l-f)){if(f===-1&&(f=l),l-f+1===c)return f*s}else f!==-1&&(l-=l-f),f=-1}else for(t+c>o&&(t=o-c),l=t;l>=0;l--){let f=!0;for(let h=0;h<c;h++)if(a(r,l+h)!==a(e,h)){f=!1;break}if(f)return l}return-1}d.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};d.prototype.indexOf=function(e,t,n){return bp(this,e,t,n,!0)};d.prototype.lastIndexOf=function(e,t,n){return bp(this,e,t,n,!1)};function Nx(r,e,t,n){t=Number(t)||0;let i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let c=parseInt(e.substr(o*2,2),16);if(Ps(c))return o;r[t+o]=c}return o}function Ox(r,e,t,n){return In(Ts(e,r.length-t),r,t,n)}function Ux(r,e,t,n){return In(Gx(e),r,t,n)}function Lx(r,e,t,n){return In(Cp(e),r,t,n)}function Rx(r,e,t,n){return In(Vx(e,r.length-t),r,t,n)}d.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return Nx(this,e,t,n);case"utf8":case"utf-8":return Ox(this,e,t,n);case"ascii":case"latin1":case"binary":return Ux(this,e,t,n);case"base64":return Lx(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rx(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Dx(r,e,t){return e===0&&t===r.length?_s.fromByteArray(r):_s.fromByteArray(r.slice(e,t))}function Sp(r,e,t){t=Math.min(r.length,t);let n=[],i=e;for(;i<t;){let s=r[i],o=null,c=s>239?4:s>223?3:s>191?2:1;if(i+c<=t){let a,l,f,h;switch(c){case 1:s<128&&(o=s);break;case 2:a=r[i+1],(a&192)==128&&(h=(s&31)<<6|a&63,h>127&&(o=h));break;case 3:a=r[i+1],l=r[i+2],(a&192)==128&&(l&192)==128&&(h=(s&15)<<12|(a&63)<<6|l&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:a=r[i+1],l=r[i+2],f=r[i+3],(a&192)==128&&(l&192)==128&&(f&192)==128&&(h=(s&15)<<18|(a&63)<<12|(l&63)<<6|f&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,c=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=c}return vx(n)}var _p=4096;function vx(r){let e=r.length;if(e<=_p)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=_p));return t}function Fx(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function kx(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function jx(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let i="";for(let s=e;s<t;++s)i+=Wx[r[s]];return i}function Mx(r,e,t){let n=r.slice(e,t),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}d.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,d.prototype),i};function W(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||W(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return i};d.prototype.readUintBE=d.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||W(e,t,this.length);let i=this[e+--t],s=1;for(;t>0&&(s*=256);)i+=this[e+--t]*s;return i};d.prototype.readUint8=d.prototype.readUInt8=function(e,t){return e=e>>>0,t||W(e,1,this.length),this[e]};d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||W(e,2,this.length),this[e]|this[e+1]<<8};d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||W(e,2,this.length),this[e]<<8|this[e+1]};d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||W(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||W(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};d.prototype.readBigUInt64LE=it(function(e){e=e>>>0,Gt(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&wr(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});d.prototype.readBigUInt64BE=it(function(e){e=e>>>0,Gt(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&wr(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});d.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||W(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i};d.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||W(e,t,this.length);let i=t,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};d.prototype.readInt8=function(e,t){return e=e>>>0,t||W(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};d.prototype.readInt16LE=function(e,t){e=e>>>0,t||W(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};d.prototype.readInt16BE=function(e,t){e=e>>>0,t||W(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};d.prototype.readInt32LE=function(e,t){return e=e>>>0,t||W(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};d.prototype.readInt32BE=function(e,t){return e=e>>>0,t||W(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};d.prototype.readBigInt64LE=it(function(e){e=e>>>0,Gt(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&wr(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});d.prototype.readBigInt64BE=it(function(e){e=e>>>0,Gt(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&wr(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});d.prototype.readFloatLE=function(e,t){return e=e>>>0,t||W(e,4,this.length),zt.read(this,e,!0,23,4)};d.prototype.readFloatBE=function(e,t){return e=e>>>0,t||W(e,4,this.length),zt.read(this,e,!1,23,4)};d.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||W(e,8,this.length),zt.read(this,e,!0,52,8)};d.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||W(e,8,this.length),zt.read(this,e,!1,52,8)};function re(r,e,t,n,i,s){if(!d.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;re(this,e,t,n,c,0)}let s=1,o=0;for(this[t]=e&255;++o<n&&(s*=256);)this[t+o]=e/s&255;return t+n};d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;re(this,e,t,n,c,0)}let s=n-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+n};d.prototype.writeUint8=d.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||re(this,e,t,1,255,0),this[t]=e&255,t+1};d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||re(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||re(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||re(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||re(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function xp(r,e,t,n,i){Pp(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function Ip(r,e,t,n,i){Pp(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}d.prototype.writeBigUInt64LE=it(function(e,t=0){return xp(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});d.prototype.writeBigUInt64BE=it(function(e,t=0){return Ip(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});d.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let a=Math.pow(2,8*n-1);re(this,e,t,n,a-1,-a)}let s=0,o=1,c=0;for(this[t]=e&255;++s<n&&(o*=256);)e<0&&c===0&&this[t+s-1]!==0&&(c=1),this[t+s]=(e/o>>0)-c&255;return t+n};d.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let a=Math.pow(2,8*n-1);re(this,e,t,n,a-1,-a)}let s=n-1,o=1,c=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&c===0&&this[t+s+1]!==0&&(c=1),this[t+s]=(e/o>>0)-c&255;return t+n};d.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||re(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};d.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||re(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};d.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||re(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};d.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||re(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};d.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||re(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};d.prototype.writeBigInt64LE=it(function(e,t=0){return xp(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});d.prototype.writeBigInt64BE=it(function(e,t=0){return Ip(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Bp(r,e,t,n,i,s){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function qp(r,e,t,n,i){return e=+e,t=t>>>0,i||Bp(r,e,t,4,34028234663852886e22,-34028234663852886e22),zt.write(r,e,t,n,23,4),t+4}d.prototype.writeFloatLE=function(e,t,n){return qp(this,e,t,!0,n)};d.prototype.writeFloatBE=function(e,t,n){return qp(this,e,t,!1,n)};function Ap(r,e,t,n,i){return e=+e,t=t>>>0,i||Bp(r,e,t,8,17976931348623157e292,-17976931348623157e292),zt.write(r,e,t,n,52,8),t+8}d.prototype.writeDoubleLE=function(e,t,n){return Ap(this,e,t,!0,n)};d.prototype.writeDoubleBE=function(e,t,n){return Ap(this,e,t,!1,n)};d.prototype.copy=function(e,t,n,i){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),s};d.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!d.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{let o=d.isBuffer(e)?e:d.from(e,i),c=o.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=o[s%c]}return this};var Ht={};function As(r,e,t){Ht[r]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}As("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);As("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);As("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=Tp(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=Tp(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Tp(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function $x(r,e,t){Gt(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&wr(e,r.length-(t+1))}function Pp(r,e,t,n,i,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",c;throw s>3?e===0||e===BigInt(0)?c=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:c=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:c=`>= ${e}${o} and <= ${t}${o}`,new Ht.ERR_OUT_OF_RANGE("value",c,r)}$x(n,i,s)}function Gt(r,e){if(typeof r!="number")throw new Ht.ERR_INVALID_ARG_TYPE(e,"number",r)}function wr(r,e,t){throw Math.floor(r)!==r?(Gt(r,t),new Ht.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Ht.ERR_BUFFER_OUT_OF_BOUNDS:new Ht.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var zx=/[^+/0-9A-Za-z-_]/g;function Hx(r){if(r=r.split("=")[0],r=r.trim().replace(zx,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function Ts(r,e){e=e||1/0;let t,n=r.length,i=null,s=[];for(let o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function Gx(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Vx(r,e){let t,n,i,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),n=t>>8,i=t%256,s.push(i),s.push(n);return s}function Cp(r){return _s.toByteArray(Hx(r))}function In(r,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function Me(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Ps(r){return r!==r}var Wx=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<16;++i)e[n+i]=r[t]+r[i]}return e}();function it(r){return typeof BigInt=="undefined"?Kx:r}function Kx(){throw new Error("BigInt not supported")}});var Bn=u((WT,Op)=>{"use strict";var{Buffer:Pe}=mt(),Np=Symbol.for("BufferList");function U(r){if(!(this instanceof U))return new U(r);U._init.call(this,r)}U._init=function(e){Object.defineProperty(this,Np,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};U.prototype._new=function(e){return new U(e)};U.prototype._offset=function(e){if(e===0)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){let i=t+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-t];t=i}};U.prototype._reverseOffset=function(r){let e=r[0],t=r[1];for(let n=0;n<e;n++)t+=this._bufs[n].length;return t};U.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]};U.prototype.slice=function(e,t){return typeof e=="number"&&e<0&&(e+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,e,t)};U.prototype.copy=function(e,t,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||Pe.alloc(0);let s=!!e,o=this._offset(n),c=i-n,a=c,l=s&&t||0,f=o[1];if(n===0&&i===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:Pe.concat(this._bufs,this.length);for(let h=0;h<this._bufs.length;h++)this._bufs[h].copy(e,l),l+=this._bufs[h].length;return e}if(a<=this._bufs[o[0]].length-f)return s?this._bufs[o[0]].copy(e,t,f,f+a):this._bufs[o[0]].slice(f,f+a);s||(e=Pe.allocUnsafe(c));for(let h=o[0];h<this._bufs.length;h++){let w=this._bufs[h].length-f;if(a>w)this._bufs[h].copy(e,l,f),l+=w;else{this._bufs[h].copy(e,l,f,f+a),l+=w;break}a-=w,f&&(f=0)}return e.length>l?e.slice(0,l):e};U.prototype.shallowSlice=function(e,t){if(e=e||0,t=typeof t!="number"?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let n=this._offset(e),i=this._offset(t),s=this._bufs.slice(n[0],i[0]+1);return i[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,i[1]),n[1]!==0&&(s[0]=s[0].slice(n[1])),this._new(s)};U.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)};U.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};U.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e};U.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Pe.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Pe.from(e));return this};U.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};U.prototype.indexOf=function(r,e,t){if(t===void 0&&typeof e=="string"&&(t=e,e=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=Pe.from([r]):typeof r=="string"?r=Pe.from(r,t):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=Pe.from(r.buffer,r.byteOffset,r.byteLength):Pe.isBuffer(r)||(r=Pe.from(r)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),r.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],s=n[1];for(;i<this._bufs.length;i++){let o=this._bufs[i];for(;s<o.length;)if(o.length-s>=r.length){let a=o.indexOf(r,s);if(a!==-1)return this._reverseOffset([i,a]);s=o.length-r.length+1}else{let a=this._reverseOffset([i,s]);if(this._match(a,r))return a;s++}s=0}return-1};U.prototype._match=function(r,e){if(this.length-r<e.length)return!1;for(let t=0;t<e.length;t++)if(this.get(r+t)!==e[t])return!1;return!0};(function(){let r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in r)(function(t){r[t]===null?U.prototype[t]=function(n,i){return this.slice(n,n+i)[t](0,i)}:U.prototype[t]=function(n=0){return this.slice(n,n+r[t])[t](0)}})(e)})();U.prototype._isBufferList=function(e){return e instanceof U||U.isBufferList(e)};U.isBufferList=function(e){return e!=null&&e[Np]};Op.exports=U});var Rp=u(An=>{var{Buffer:Cs}=mt(),Wt=Bn(),Yx="0".charCodeAt(0),Xx=Cs.from("ustar\0","binary"),Jx=Cs.from("ustar ","binary"),Zx=Cs.from(" \0","binary"),qn=257,Up=263,Qx=function(r,e,t){return typeof r!="number"?t:(r=~~r,r>=e?e:r>=0||(r+=e,r>=0)?r:0)},e8=function(r){switch(r){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null},Lp=function(r,e,t,n){for(;t<n;t++)if(r.get(t)===e)return t;return n},t8=function(r){let e=8*32;for(let t=0;t<148;t++)e+=r.get(t);for(let t=156;t<512;t++)e+=r.get(t);return e};function r8(r){let e;if(r.get(0)===128)e=!0;else if(r.get(0)===255)e=!1;else return null;let t=!1,n=[];for(let o=r.length-1;o>0;o--){let c=r.get(o);e?n.push(c):t&&c===0?n.push(0):t?(t=!1,n.push(256-c)):n.push(255-c)}let i=0,s=n.length;for(let o=0;o<s;o++)i+=n[o]*Math.pow(256,o);return e?i:-1*i}var st=function(r,e,t){if(r=r.shallowSlice(e,e+t),e=0,r.get(e)&128)return r8(r);{for(;e<r.length&&r.get(e)===32;)e++;let n=Qx(Lp(r,32,e,r.length),r.length,r.length);for(;e<n&&r.get(e)===0;)e++;return n===e?0:parseInt(r.shallowSlice(e,n).toString(),8)}},Kt=function(r,e,t,n){return r.shallowSlice(e,Lp(r,0,e,e+t)).toString(n)};An.decodeLongPath=function(r,e){return r=Wt.isBufferList(r)?r:new Wt(r),Kt(r,0,r.length,e)};An.decodePax=function(r){r=Wt.isBufferList(r)?r:new Wt(r);let e={};for(;r.length;){let t=0;for(;t<r.length&&r.get(t)!==32;)t++;let n=parseInt(r.shallowSlice(0,t).toString(),10);if(!n)return e;let i=r.shallowSlice(t+1,n-1).toString(),s=i.indexOf("=");if(s===-1)return e;e[i.slice(0,s)]=i.slice(s+1),r=r.shallowSlice(n)}return e};An.decode=function(r,e){r=Wt.isBufferList(r)?r:new Wt(r);let t=r.get(156)===0?0:r.get(156)-Yx,n=Kt(r,0,100,e),i=st(r,100,8),s=st(r,108,8),o=st(r,116,8),c=st(r,124,12),a=st(r,136,12),l=e8(t),f=r.get(157)===0?null:Kt(r,157,100,e),h=Kt(r,265,32),w=Kt(r,297,32),_=st(r,329,8),S=st(r,337,8),P=t8(r);if(P===8*32)return null;if(P!==st(r,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(Xx.compare(r.slice(qn,qn+6))===0)r.get(345)&&(n=Kt(r,345,155,e)+"/"+n);else if(!(Jx.compare(r.slice(qn,qn+6))===0&&Zx.compare(r.slice(Up,Up+2))===0))throw new Error("Invalid tar header: unknown format.");return t===0&&n&&n[n.length-1]==="/"&&(t=5),{name:n,mode:i,uid:s,gid:o,size:c,mtime:new Date(1e3*a),type:l,linkname:f,uname:h,gname:w,devmajor:_,devminor:S}}});var Fp=u((YT,vp)=>{"use strict";var{Buffer:Ce}=mt(),Dp=Symbol.for("BufferList");function L(r){if(!(this instanceof L))return new L(r);L._init.call(this,r)}L._init=function(e){Object.defineProperty(this,Dp,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};L.prototype._new=function(e){return new L(e)};L.prototype._offset=function(e){if(e===0)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){let i=t+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-t];t=i}};L.prototype._reverseOffset=function(r){let e=r[0],t=r[1];for(let n=0;n<e;n++)t+=this._bufs[n].length;return t};L.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]};L.prototype.slice=function(e,t){return typeof e=="number"&&e<0&&(e+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,e,t)};L.prototype.copy=function(e,t,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||Ce.alloc(0);let s=!!e,o=this._offset(n),c=i-n,a=c,l=s&&t||0,f=o[1];if(n===0&&i===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:Ce.concat(this._bufs,this.length);for(let h=0;h<this._bufs.length;h++)this._bufs[h].copy(e,l),l+=this._bufs[h].length;return e}if(a<=this._bufs[o[0]].length-f)return s?this._bufs[o[0]].copy(e,t,f,f+a):this._bufs[o[0]].slice(f,f+a);s||(e=Ce.allocUnsafe(c));for(let h=o[0];h<this._bufs.length;h++){let w=this._bufs[h].length-f;if(a>w)this._bufs[h].copy(e,l,f),l+=w;else{this._bufs[h].copy(e,l,f,f+a),l+=w;break}a-=w,f&&(f=0)}return e.length>l?e.slice(0,l):e};L.prototype.shallowSlice=function(e,t){if(e=e||0,t=typeof t!="number"?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let n=this._offset(e),i=this._offset(t),s=this._bufs.slice(n[0],i[0]+1);return i[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,i[1]),n[1]!==0&&(s[0]=s[0].slice(n[1])),this._new(s)};L.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)};L.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};L.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e};L.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Ce.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Ce.from(e));return this};L.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};L.prototype.indexOf=function(r,e,t){if(t===void 0&&typeof e=="string"&&(t=e,e=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=Ce.from([r]):typeof r=="string"?r=Ce.from(r,t):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=Ce.from(r.buffer,r.byteOffset,r.byteLength):Ce.isBuffer(r)||(r=Ce.from(r)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),r.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],s=n[1];for(;i<this._bufs.length;i++){let o=this._bufs[i];for(;s<o.length;)if(o.length-s>=r.length){let a=o.indexOf(r,s);if(a!==-1)return this._reverseOffset([i,a]);s=o.length-r.length+1}else{let a=this._reverseOffset([i,s]);if(this._match(a,r))return a;s++}s=0}return-1};L.prototype._match=function(r,e){if(this.length-r<e.length)return!1;for(let t=0;t<e.length;t++)if(this.get(r+t)!==e[t])return!1;return!0};(function(){let r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in r)(function(t){r[t]===null?L.prototype[t]=function(n,i){return this.slice(n,n+i)[t](0,i)}:L.prototype[t]=function(n=0){return this.slice(n,n+r[t])[t](0)}})(e)})();L.prototype._isBufferList=function(e){return e instanceof L||L.isBufferList(e)};L.isBufferList=function(e){return e!=null&&e[Dp]};vp.exports=L});var jp=u((XT,kp)=>{var Ns=Fp();kp.exports=r=>{let e=async function*(){let t=yield,n=new Ns;for await(let i of r){if(!t){t=yield n.append(i),n=new Ns;continue}for(n.append(i);n.length>=t;){let s=n.shallowSlice(0,t);if(n.consume(t),t=yield s,!t){n.length&&(t=yield n,n=new Ns);break}}}if(t)throw Object.assign(new Error(`stream ended before ${t} bytes became available`),{code:"ERR_UNDER_READ",buffer:n})}();return e.next(),e}});var $p=u((JT,Mp)=>{var Os=Bn(),n8=jp();Mp.exports=function(e){let t=n8(e),n,i={[Symbol.asyncIterator]:()=>i,async next(s){if(n){let o;if(s==null||n.length===s)o=n,n=null;else if(n.length>s)o=n.shallowSlice(0,s),n=n.shallowSlice(s);else if(n.length<s){let{value:c,done:a}=await t.next(s-n.length);if(a)throw Object.assign(new Error(`stream ended before ${s-n.length} bytes became available`),{code:"ERR_UNDER_READ"});o=new Os([n,c]),n=null}return{value:o}}return t.next(s)},async nextLte(s){let{done:o,value:c}=await i.next();return o?{done:o}:c.length<=s?{value:c}:(c=Os.isBufferList(c)?c:new Os(c),n?n.append(c.shallowSlice(s)):n=c.shallowSlice(s),{value:c.shallowSlice(0,s)})},return(){return t.return()}};return i}});var Hp=u((ZT,zp)=>{var i8=lp(),br=Rp(),s8=$p();function o8(r){return r&=511,r&&512-r}async function Er(r,e){let t=o8(e);t&&await r.next(t)}zp.exports=r=>(r=r||{},r.highWaterMark=r.highWaterMark||1024*16,e=>async function*(){let t=s8(e),n,i,s,o;try{for(;;){let c;try{let{done:_,value:S}=await t.next(512);if(_)return;c=S}catch(_){if(_.code==="ERR_UNDER_READ")return;throw _}let a=br.decode(c,r.filenameEncoding);if(!a)continue;if(a.type==="gnu-long-path"){let{done:_,value:S}=await t.next(a.size);if(_)return;n=br.decodeLongPath(S,r.filenameEncoding),await Er(t,a.size);continue}if(a.type==="gnu-long-link-path"){let{done:_,value:S}=await t.next(a.size);if(_)return;i=br.decodeLongPath(S,r.filenameEncoding),await Er(t,a.size);continue}if(a.type==="pax-global-header"){let{done:_,value:S}=await t.next(a.size);if(_)return;s=br.decodePax(S,r.filenameEncoding),await Er(t,a.size);continue}if(a.type==="pax-header"){let{done:_,value:S}=await t.next(a.size);if(_)return;o=br.decodePax(S,r.filenameEncoding),s&&(o={...s,...o}),await Er(t,a.size);continue}if(n&&(a.name=n,n=null),i&&(a.linkname=i,i=null),o&&(o.path&&(a.name=o.path),o.linkpath&&(a.linkname=o.linkpath),o.size&&(a.size=parseInt(o.size,10)),a.pax=o,o=null),!a.size||a.type==="directory"){yield{header:a,body:async function*(){}()};continue}let l=a.size,f=i8(),h=await t.nextLte(Math.min(l,r.highWaterMark));l-=h.value.length,l||f.resolve();let w=async function*(){try{for(yield h.value;l;){let{done:_,value:S}=await t.nextLte(l);if(_){l=0;return}l-=S.length,yield S}}finally{f.resolve()}}();if(yield{header:a,body:w},await f.promise,l)for await(let _ of w);await Er(t,a.size)}}finally{await t.return()}}())});var Vp=u((QT,Gp)=>{"use strict";Gp.exports={RTLD_LAZY:1,RTLD_NOW:2,RTLD_GLOBAL:8,RTLD_LOCAL:4,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,PRIORITY_LOW:19,PRIORITY_BELOW_NORMAL:10,PRIORITY_NORMAL:0,PRIORITY_ABOVE_NORMAL:-7,PRIORITY_HIGH:-14,PRIORITY_HIGHEST:-20,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGINFO:29,SIGSYS:12,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,O_RDONLY:0,O_WRONLY:1,O_RDWR:2,UV_DIRENT_UNKNOWN:0,UV_DIRENT_FILE:1,UV_DIRENT_DIR:2,UV_DIRENT_LINK:3,UV_DIRENT_FIFO:4,UV_DIRENT_SOCKET:5,UV_DIRENT_CHAR:6,UV_DIRENT_BLOCK:7,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,UV_FS_O_FILEMAP:0,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_DSYNC:4194304,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_FICLONE_FORCE:4,OPENSSL_VERSION_NUMBER:269488303,SSL_OP_ALL:2147485780,SSL_OP_ALLOW_NO_DHE_KEX:1024,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:0,SSL_OP_MICROSOFT_SESS_ID_BUG:0,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:0,SSL_OP_NETSCAPE_CHALLENGE_BUG:0,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:0,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:0,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_ENCRYPT_THEN_MAC:524288,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_RENEGOTIATION:1073741824,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:0,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_NO_TLSv1_3:536870912,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_PRIORITIZE_CHACHA:2097152,SSL_OP_SINGLE_DH_USE:0,SSL_OP_SINGLE_ECDH_USE:0,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:0,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:0,SSL_OP_TLS_D5_BUG:0,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_RSA:1,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_EC:2048,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,RSA_PSS_SALTLEN_DIGEST:-1,RSA_PSS_SALTLEN_MAX_SIGN:-2,RSA_PSS_SALTLEN_AUTO:-2,defaultCoreCipherList:"TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:DHE-RSA-AES256-SHA384:ECDHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA256:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!SRP:!CAMELLIA",TLS1_VERSION:769,TLS1_1_VERSION:770,TLS1_2_VERSION:771,TLS1_3_VERSION:772,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var Yp=u((eP,Kp)=>{"use strict";var{Buffer:Ne}=mt(),Wp=Symbol.for("BufferList");function R(r){if(!(this instanceof R))return new R(r);R._init.call(this,r)}R._init=function(e){Object.defineProperty(this,Wp,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};R.prototype._new=function(e){return new R(e)};R.prototype._offset=function(e){if(e===0)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){let i=t+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-t];t=i}};R.prototype._reverseOffset=function(r){let e=r[0],t=r[1];for(let n=0;n<e;n++)t+=this._bufs[n].length;return t};R.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]};R.prototype.slice=function(e,t){return typeof e=="number"&&e<0&&(e+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,e,t)};R.prototype.copy=function(e,t,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||Ne.alloc(0);let s=!!e,o=this._offset(n),c=i-n,a=c,l=s&&t||0,f=o[1];if(n===0&&i===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:Ne.concat(this._bufs,this.length);for(let h=0;h<this._bufs.length;h++)this._bufs[h].copy(e,l),l+=this._bufs[h].length;return e}if(a<=this._bufs[o[0]].length-f)return s?this._bufs[o[0]].copy(e,t,f,f+a):this._bufs[o[0]].slice(f,f+a);s||(e=Ne.allocUnsafe(c));for(let h=o[0];h<this._bufs.length;h++){let w=this._bufs[h].length-f;if(a>w)this._bufs[h].copy(e,l,f),l+=w;else{this._bufs[h].copy(e,l,f,f+a),l+=w;break}a-=w,f&&(f=0)}return e.length>l?e.slice(0,l):e};R.prototype.shallowSlice=function(e,t){if(e=e||0,t=typeof t!="number"?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let n=this._offset(e),i=this._offset(t),s=this._bufs.slice(n[0],i[0]+1);return i[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,i[1]),n[1]!==0&&(s[0]=s[0].slice(n[1])),this._new(s)};R.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)};R.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};R.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e};R.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Ne.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Ne.from(e));return this};R.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};R.prototype.indexOf=function(r,e,t){if(t===void 0&&typeof e=="string"&&(t=e,e=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=Ne.from([r]):typeof r=="string"?r=Ne.from(r,t):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=Ne.from(r.buffer,r.byteOffset,r.byteLength):Ne.isBuffer(r)||(r=Ne.from(r)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),r.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],s=n[1];for(;i<this._bufs.length;i++){let o=this._bufs[i];for(;s<o.length;)if(o.length-s>=r.length){let a=o.indexOf(r,s);if(a!==-1)return this._reverseOffset([i,a]);s=o.length-r.length+1}else{let a=this._reverseOffset([i,s]);if(this._match(a,r))return a;s++}s=0}return-1};R.prototype._match=function(r,e){if(this.length-r<e.length)return!1;for(let t=0;t<e.length;t++)if(this.get(r+t)!==e[t])return!1;return!0};(function(){let r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in r)(function(t){r[t]===null?R.prototype[t]=function(n,i){return this.slice(n,n+i)[t](0,i)}:R.prototype[t]=function(n=0){return this.slice(n,n+r[t])[t](0)}})(e)})();R.prototype._isBufferList=function(e){return e instanceof R||R.isBufferList(e)};R.isBufferList=function(e){return e!=null&&e[Wp]};Kp.exports=R});var Jp=u((tP,Xp)=>{var a8=Yp(),Us={string:()=>"",buffer:()=>a8()};Xp.exports=async(r,e)=>{if(e=e||{},e.type&&!Us[e.type])throw new Error(`invalid type "${e.type}"`);let t,n;for await(let i of r)t||(n=e.type||(typeof i=="string"?"string":"buffer"),t=Us[n]()),n==="string"?t+=i:t.append(i);return t||Us[e.type||"buffer"]()}});var Zp=u(Rs=>{var{Buffer:$e}=mt(),c8=$e.alloc,u8="0000000000000000000",l8="7777777777777777777",f8="0".charCodeAt(0),h8=$e.from("ustar\0","binary"),d8=$e.from("00","binary"),p8=parseInt("7777",8),m8=257,g8=263,y8=function(r){switch(r){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0},w8=function(r){let e=8*32;for(let t=0;t<148;t++)e+=r[t];for(let t=156;t<512;t++)e+=r[t];return e},ot=function(r,e){return r=r.toString(8),r.length>e?l8.slice(0,e)+" ":u8.slice(0,e-r.length)+r+" "},Ls=function(r){let e=$e.byteLength(r),t=Math.floor(Math.log(e)/Math.log(10))+1;return e+t>=Math.pow(10,t)&&t++,e+t+r};Rs.encodePax=function(r){let e="";r.name&&(e+=Ls(" path="+r.name+`
`)),r.linkname&&(e+=Ls(" linkpath="+r.linkname+`
`));let t=r.pax;if(t)for(let n in t)e+=Ls(" "+n+"="+t[n]+`
`);return $e.from(e)};Rs.encode=function(r){let e=c8(512),t=r.name,n="";if(r.typeflag===5&&t[t.length-1]!=="/"&&(t+="/"),$e.byteLength(t)!==t.length)return null;for(;$e.byteLength(t)>100;){let i=t.indexOf("/");if(i===-1)return null;n+=n?"/"+t.slice(0,i):t.slice(0,i),t=t.slice(i+1)}return $e.byteLength(t)>100||$e.byteLength(n)>155||r.linkname&&$e.byteLength(r.linkname)>100?null:(e.write(t),e.write(ot(r.mode&p8,6),100),e.write(ot(r.uid,6),108),e.write(ot(r.gid,6),116),e.write(ot(r.size,11),124),e.write(ot(r.mtime.getTime()/1e3|0,11),136),e[156]=f8+y8(r.type),r.linkname&&e.write(r.linkname,157),h8.copy(e,m8),d8.copy(e,g8),r.uname&&e.write(r.uname,265),r.gname&&e.write(r.gname,297),e.write(ot(r.devmajor||0,6),329),e.write(ot(r.devminor||0,6),337),n&&e.write(n,345),e.write(ot(w8(e),6),148),e)}});var tm=u((nP,em)=>{var{Buffer:Ds}=mt(),gt=Bn(),{S_IFMT:b8,S_IFBLK:E8,S_IFCHR:S8,S_IFDIR:_8,S_IFIFO:x8,S_IFLNK:I8}=Vp(),B8=Jp(),Tn=Zp(),q8=parseInt("755",8),A8=parseInt("644",8),Qp=Ds.alloc(1024);function T8(r){switch(r&b8){case E8:return"block-device";case S8:return"character-device";case _8:return"directory";case x8:return"fifo";case I8:return"symlink"}return"file"}function vs(r){if(r&=511,r)return new gt(Qp.slice(0,512-r))}function Fs(r){if(!r.pax){let e=Tn.encode(r);if(e)return e}return P8(r)}function P8(r){let e=Tn.encodePax({name:r.name,linkname:r.linkname,pax:r.pax}),t={name:"PaxHeader",mode:r.mode,uid:r.uid,gid:r.gid,size:e.length,mtime:r.mtime,type:"pax-header",linkname:r.linkname&&"PaxHeader",uname:r.uname,gname:r.gname,devmajor:r.devmajor,devminor:r.devminor};return new gt([Tn.encode(t),e,vs(e.length),Tn.encode({...t,size:r.size,type:r.type})])}em.exports=()=>async function*(r){for await(let{header:e,body:t}of r){if((!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=T8(e.mode)),e.mode||(e.mode=e.type==="directory"?q8:A8),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof t=="string"&&(t=Ds.from(t)),Ds.isBuffer(t)||gt.isBufferList(t)){e.size=t.length,yield new gt([Fs(e),t,vs(e.size)]);continue}if(e.type==="symlink"&&!e.linkname){e.linkname=(await B8(t)).toString(),yield Fs(e);continue}if(yield Fs(e),e.type!=="file"&&e.type!=="contiguous-file")continue;let n=0;for await(let s of t)n+=s.length,yield gt.isBufferList(s)?s:new gt(s);if(n!==e.size)throw new Error("size mismatch");let i=vs(e.size);i&&(yield i)}yield new gt(Qp)}});var rm=u(ks=>{ks.extract=Hp();ks.pack=tm()});var im=u((sP,nm)=>{"use strict";var C8=rm(),{CID:N8}=(q(),T),O8=m(),U8=g(),L8=Xi();nm.exports=O8(r=>{async function*e(t,n={}){let i=await r.post("get",{timeout:n.timeout,signal:n.signal,searchParams:U8({arg:`${t instanceof Uint8Array?N8.decode(t):t}`,...n}),headers:n.headers}),s=C8.extract();for await(let{header:o,body:c}of s(i.iterator()))o.type==="directory"?yield{type:"dir",path:o.name}:yield{type:"file",path:o.name,content:L8(c,a=>a.slice())}}return e})});var om=u((oP,sm)=>{"use strict";var R8=m();sm.exports=R8(r=>()=>{let e=new URL(r.opts.base||"");return{host:e.hostname,port:e.port,protocol:e.protocol,pathname:e.pathname,"api-path":e.pathname}})});var js=u((aP,am)=>{"use strict";var D8=F(),{Multiaddr:v8}=z(),F8=m(),k8=g();am.exports=F8(r=>{async function e(t={}){let i=await(await r.post("id",{timeout:t.timeout,signal:t.signal,searchParams:k8({arg:t.peerId?t.peerId.toString():void 0,...t}),headers:t.headers})).json(),s={...D8(i)};return s.addresses&&(s.addresses=s.addresses.map(o=>new v8(o))),s}return e})});var um=u((cP,cm)=>{"use strict";var j8=js();cm.exports=r=>{let e=j8(r);async function t(n={}){let i=await e(n);return Boolean(i&&i.addresses&&i.addresses.length)}return t}});var fm=u((uP,lm)=>{"use strict";var M8=F(),$8=m(),z8=g();lm.exports=$8(r=>{async function e(t,n={type:"rsa",size:2048}){let s=await(await r.post("key/gen",{timeout:n.timeout,signal:n.signal,searchParams:z8({arg:t,...n}),headers:n.headers})).json();return M8(s)}return e})});var dm=u((lP,hm)=>{"use strict";var H8=F(),G8=m(),V8=g();hm.exports=G8(r=>{async function e(t={}){return((await(await r.post("key/list",{timeout:t.timeout,signal:t.signal,searchParams:V8(t),headers:t.headers})).json()).Keys||[]).map(s=>H8(s))}return e})});var mm=u((fP,pm)=>{"use strict";var W8=F(),K8=m(),Y8=g();pm.exports=K8(r=>{async function e(t,n,i={}){let s=await r.post("key/rename",{timeout:i.timeout,signal:i.signal,searchParams:Y8({arg:[t,n],...i}),headers:i.headers});return W8(await s.json())}return e})});var ym=u((hP,gm)=>{"use strict";var X8=F(),J8=m(),Z8=g();gm.exports=J8(r=>{async function e(t,n={}){let s=await(await r.post("key/rm",{timeout:n.timeout,signal:n.signal,searchParams:Z8({arg:t,...n}),headers:n.headers})).json();return X8(s.Keys[0])}return e})});var bm=u((dP,wm)=>{"use strict";var Q8=F(),e6=m(),t6=g();wm.exports=e6(r=>{async function e(t,n,i,s={}){let c=await(await r.post("key/import",{timeout:s.timeout,signal:s.signal,searchParams:t6({arg:t,pem:n,password:i,...s}),headers:s.headers})).json();return Q8(c)}return e})});var Sm=u((pP,Em)=>{"use strict";var r6=m();Em.exports=r6(r=>async(t,n,i={})=>{throw new Error("Not implemented")})});var xm=u((mP,_m)=>{"use strict";var n6=m();_m.exports=n6(r=>async(t,n={})=>{throw new Error("Not implemented")})});var Bm=u((gP,Im)=>{"use strict";Im.exports=r=>({gen:fm()(r),list:dm()(r),rename:mm()(r),rm:ym()(r),import:bm()(r),export:Sm()(r),info:xm()(r)})});var Am=u((yP,qm)=>{"use strict";var i6=m(),s6=g();qm.exports=i6(r=>{async function*e(t={}){yield*(await r.post("log/tail",{timeout:t.timeout,signal:t.signal,searchParams:s6(t),headers:t.headers})).ndjson()}return e})});var Pm=u((wP,Tm)=>{"use strict";var o6=m(),a6=g();Tm.exports=o6(r=>{async function e(t={}){return(await(await r.post("log/ls",{timeout:t.timeout,signal:t.signal,searchParams:a6(t),headers:t.headers})).json()).Strings}return e})});var Nm=u((bP,Cm)=>{"use strict";var c6=F(),u6=m(),l6=g();Cm.exports=u6(r=>{async function e(t,n,i={}){let s=await r.post("log/level",{timeout:i.timeout,signal:i.signal,searchParams:l6({arg:[t,n],...i}),headers:i.headers});return c6(await s.json())}return e})});var Um=u((EP,Om)=>{"use strict";Om.exports=r=>({tail:Am()(r),ls:Pm()(r),level:Nm()(r)})});var Dm=u((SP,Rm)=>{"use strict";var{CID:Lm}=(q(),T),f6=m(),h6=g(),d6=bs();Rm.exports=f6((r,e)=>{async function*t(n,i={}){let s=`${n instanceof Uint8Array?Lm.decode(n):n}`;async function o(a){let l=a.Hash;if(l.includes("/")){let h=l.startsWith("/ipfs/")?l:`/ipfs/${l}`;l=(await d6(e)(h)).cid}else l=Lm.parse(l);let f={name:a.Name,path:s+(a.Name?`/${a.Name}`:""),size:a.Size,cid:l,type:p6(a),depth:a.Depth||1};return a.Mode&&(f.mode=parseInt(a.Mode,8)),a.Mtime!==void 0&&a.Mtime!==null&&(f.mtime={secs:a.Mtime},a.MtimeNsecs!==void 0&&a.MtimeNsecs!==null&&(f.mtime.nsecs=a.MtimeNsecs)),f}let c=await r.post("ls",{timeout:i.timeout,signal:i.signal,searchParams:h6({arg:s,...i}),headers:i.headers});for await(let a of c.ndjson()){if(a=a.Objects,!a)throw new Error("expected .Objects in results");if(a=a[0],!a)throw new Error("expected one array in results.Objects");let l=a.Links;if(!Array.isArray(l))throw new Error("expected one array in results.Objects[0].Links");if(!l.length){yield o(a);return}yield*l.map(o)}}return t});function p6(r){switch(r.Type){case 1:case 5:return"dir";case 2:return"file";default:return"file"}}});var Fm=u((_P,vm)=>{"use strict";var m6=F(),g6=m(),y6=g();vm.exports=g6(r=>{async function e(t={}){let n=await r.post("dns",{timeout:t.timeout,signal:t.signal,searchParams:y6(t),headers:t.headers});return m6(await n.json())}return e})});var jm=u((xP,km)=>{"use strict";var w6=F(),b6=m(),E6=g();km.exports=b6(r=>{async function e(t,n={}){let i=await r.post("name/publish",{timeout:n.timeout,signal:n.signal,searchParams:E6({arg:t,...n}),headers:n.headers});return w6(await i.json())}return e})});var $m=u((IP,Mm)=>{"use strict";var S6=m(),_6=g();Mm.exports=S6(r=>{async function*e(t,n={}){let i=await r.post("name/resolve",{timeout:n.timeout,signal:n.signal,searchParams:_6({arg:t,stream:!0,...n}),headers:n.headers});for await(let s of i.ndjson())yield s.Path}return e})});var Hm=u((BP,zm)=>{"use strict";var x6=F(),I6=m(),B6=g();zm.exports=I6(r=>{async function e(t,n={}){let i=await r.post("name/pubsub/cancel",{timeout:n.timeout,signal:n.signal,searchParams:B6({arg:t,...n}),headers:n.headers});return x6(await i.json())}return e})});var Vm=u((qP,Gm)=>{"use strict";var q6=F(),A6=m(),T6=g();Gm.exports=A6(r=>{async function e(t={}){let n=await r.post("name/pubsub/state",{timeout:t.timeout,signal:t.signal,searchParams:T6(t),headers:t.headers});return q6(await n.json())}return e})});var Km=u((AP,Wm)=>{"use strict";var P6=m(),C6=g();Wm.exports=P6(r=>{async function e(t={}){return(await(await r.post("name/pubsub/subs",{timeout:t.timeout,signal:t.signal,searchParams:C6(t),headers:t.headers})).json()).Strings||[]}return e})});var Xm=u((TP,Ym)=>{"use strict";Ym.exports=r=>({cancel:Hm()(r),state:Vm()(r),subs:Km()(r)})});var Zm=u((PP,Jm)=>{"use strict";Jm.exports=r=>({publish:jm()(r),resolve:$m()(r),pubsub:Xm()(r)})});var eg=u((CP,Qm)=>{"use strict";var{CID:N6}=(q(),T),O6=m(),U6=g();Qm.exports=O6(r=>{async function e(t,n={}){let s=await(await r.post("object/data",{timeout:n.timeout,signal:n.signal,searchParams:U6({arg:`${t instanceof Uint8Array?N6.decode(t):t}`,...n}),headers:n.headers})).arrayBuffer();return new Uint8Array(s,0,s.byteLength)}return e})});var ng=u((NP,rg)=>{"use strict";var{CID:tg}=(q(),T),L6=m(),R6=g(),D6=Bt();rg.exports=L6(r=>{async function e(t,n={}){let s=await(await r.post("object/get",{timeout:n.timeout,signal:n.signal,searchParams:R6({arg:`${t instanceof Uint8Array?tg.decode(t):t}`,dataEncoding:"base64",...n}),headers:n.headers})).json();return{Data:D6(s.Data,"base64pad"),Links:(s.Links||[]).map(o=>({Name:o.Name,Hash:tg.parse(o.Hash),Tsize:o.Size}))}}return e})});var og=u((OP,sg)=>{"use strict";var{CID:ig}=(q(),T),v6=m(),F6=g();sg.exports=v6(r=>{async function e(t,n={}){return((await(await r.post("object/links",{timeout:n.timeout,signal:n.signal,searchParams:F6({arg:`${t instanceof Uint8Array?ig.decode(t):t}`,...n}),headers:n.headers})).json()).Links||[]).map(o=>({Name:o.Name,Tsize:o.Size,Hash:ig.parse(o.Hash)}))}return e})});var cg=u((UP,ag)=>{"use strict";var{CID:k6}=(q(),T),j6=m(),M6=g();ag.exports=j6(r=>{async function e(t={}){let n=await r.post("object/new",{timeout:t.timeout,signal:t.signal,searchParams:M6({arg:t.template,...t}),headers:t.headers}),{Hash:i}=await n.json();return k6.parse(i)}return e})});var lg=u((LP,ug)=>{"use strict";var{CID:$6}=(q(),T),z6=m(),H6=g();ug.exports=z6(r=>{async function e(t,n,i={}){let s=await r.post("object/patch/add-link",{timeout:i.timeout,signal:i.signal,searchParams:H6({arg:[`${t}`,n.Name||n.name||"",(n.Hash||n.cid||"").toString()||null],...i}),headers:i.headers}),{Hash:o}=await s.json();return $6.parse(o)}return e})});var hg=u((RP,fg)=>{"use strict";var{CID:G6}=(q(),T),V6=Ae(),W6=m(),K6=g(),Y6=Te(),{AbortController:X6}=Q();fg.exports=W6(r=>{async function e(t,n,i={}){let s=new X6,o=Y6(s.signal,i.signal),c=await r.post("object/patch/append-data",{timeout:i.timeout,signal:o,searchParams:K6({arg:`${t}`,...i}),...await V6(n,s,i.headers)}),{Hash:a}=await c.json();return G6.parse(a)}return e})});var pg=u((DP,dg)=>{"use strict";var{CID:J6}=(q(),T),Z6=m(),Q6=g();dg.exports=Z6(r=>{async function e(t,n,i={}){let s=await r.post("object/patch/rm-link",{timeout:i.timeout,signal:i.signal,searchParams:Q6({arg:[`${t}`,n.Name||n.name||null],...i}),headers:i.headers}),{Hash:o}=await s.json();return J6.parse(o)}return e})});var gg=u((vP,mg)=>{"use strict";var{CID:e3}=(q(),T),t3=Ae(),r3=m(),n3=g(),i3=Te(),{AbortController:s3}=Q();mg.exports=r3(r=>{async function e(t,n,i={}){let s=new s3,o=i3(s.signal,i.signal),c=await r.post("object/patch/set-data",{timeout:i.timeout,signal:o,searchParams:n3({arg:[`${t}`],...i}),...await t3(n,s,i.headers)}),{Hash:a}=await c.json();return e3.parse(a)}return e})});var wg=u((FP,yg)=>{"use strict";yg.exports=r=>({addLink:lg()(r),appendData:hg()(r),rmLink:pg()(r),setData:gg()(r)})});var Eg=u((kP,bg)=>{"use strict";var o3=m();bg.exports=(r,e)=>o3(n=>{let i=ys()(r,e);async function s(o,c={}){return i(o,{...c,format:"dag-pb",hashAlg:"sha2-256",version:0})}return s})(e)});var _g=u((jP,Sg)=>{"use strict";var{CID:a3}=(q(),T),c3=m(),u3=g();Sg.exports=c3(r=>{async function e(t,n={}){let s=await(await r.post("object/stat",{timeout:n.timeout,signal:n.signal,searchParams:u3({arg:`${t}`,...n}),headers:n.headers})).json();return{...s,Hash:a3.parse(s.Hash)}}return e})});var Ig=u((MP,xg)=>{"use strict";xg.exports=(r,e)=>({data:eg()(e),get:ng()(e),links:og()(e),new:cg()(e),patch:wg()(e),put:Eg()(r,e),stat:_g()(e)})});var qg=u(($P,Bg)=>{"use strict";var l3=dn(),Ms=g(),Ke=class{constructor(e){this.client=new l3(e)}static encodeEndpoint(e){let t=String(e);if(t==="undefined")throw Error("endpoint is required");return t[t.length-1]==="/"?t.slice(0,-1):t}static decodeRemoteService(e){return{service:e.Service,endpoint:new URL(e.ApiEndpoint),...e.Stat&&{stat:Ke.decodeStat(e.Stat)}}}static decodeStat(e){switch(e.Status){case"valid":{let{Pinning:t,Pinned:n,Queued:i,Failed:s}=e.PinCount;return{status:"valid",pinCount:{queued:i,pinning:t,pinned:n,failed:s}}}case"invalid":return{status:"invalid"};default:return{status:e.Status}}}};Ke.prototype.add=async function(e,t){let{endpoint:n,key:i,headers:s,timeout:o,signal:c}=t;await this.client.post("pin/remote/service/add",{timeout:o,signal:c,searchParams:Ms({arg:[e,Ke.encodeEndpoint(n),i]}),headers:s})};Ke.prototype.rm=async function(e,t={}){await this.client.post("pin/remote/service/rm",{timeout:t.timeout,signal:t.signal,headers:t.headers,searchParams:Ms({arg:e})})};Ke.prototype.ls=async function(e={}){let{stat:t,headers:n,timeout:i,signal:s}=e,o=await this.client.post("pin/remote/service/ls",{timeout:i,signal:s,headers:n,searchParams:t===!0?Ms({stat:t}):void 0}),{RemoteServices:c}=await o.json();return c.map(Ke.decodeRemoteService)};Bg.exports=Ke});var Ug=u((zP,Og)=>{"use strict";var{CID:Ag}=(q(),T),f3=dn(),h3=qg(),Tg=g(),Yt=class{constructor(e){this.client=new f3(e),this.service=new h3(e)}};Yt.prototype.add=async function(e,{timeout:t,signal:n,headers:i,...s}){let o=await this.client.post("pin/remote/add",{timeout:t,signal:n,headers:i,searchParams:d3({cid:e,...s})});return Pg(await o.json())};Yt.prototype.ls=async function*({timeout:e,signal:t,headers:n,...i}){let s=await this.client.post("pin/remote/ls",{timeout:e,signal:t,headers:n,searchParams:$s(i)});for await(let o of s.ndjson())yield Pg(o)};Yt.prototype.rm=async function({timeout:e,signal:t,headers:n,...i}){await this.client.post("pin/remote/rm",{timeout:e,signal:t,headers:n,searchParams:$s({...i,all:!1})})};Yt.prototype.rmAll=async function({timeout:r,signal:e,headers:t,...n}){await this.client.post("pin/remote/rm",{timeout:r,signal:e,headers:t,searchParams:$s({...n,all:!0})})};var Pg=({Name:r,Status:e,Cid:t})=>({cid:Ag.parse(t),name:r,status:e}),Cg=r=>{if(typeof r=="string"&&r!=="")return r;throw new TypeError("service name must be passed")},Ng=r=>{if(r instanceof Ag)return r.toString();throw new TypeError(`CID instance expected instead of ${typeof r}`)},$s=({service:r,cid:e,name:t,status:n,all:i})=>{let s=Tg({service:Cg(r),name:t,force:i?!0:void 0});if(e)for(let o of e)s.append("cid",Ng(o));if(n)for(let o of n)s.append("status",o);return s},d3=({cid:r,service:e,background:t,name:n,origins:i})=>{let s=Tg({arg:Ng(r),service:Cg(e),name:n,background:t?!0:void 0});if(i)for(let o of i)s.append("origin",o.toString());return s};Og.exports=Yt});var Hs=u((HP,Lg)=>{"use strict";var Sr=ze(),{CID:zs}=(q(),T);Lg.exports=async function*(e){if(e==null)throw Sr(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if(e instanceof zs){yield Oe({cid:e});return}if(e instanceof String||typeof e=="string"){yield Oe({path:e});return}if(e.cid!=null||e.path!=null)return yield Oe(e);if(Symbol.iterator in e){let t=e[Symbol.iterator](),n=t.next();if(n.done)return t;if(n.value instanceof zs||n.value instanceof String||typeof n.value=="string"){yield Oe({cid:n.value});for(let i of t)yield Oe({cid:i});return}if(n.value.cid!=null||n.value.path!=null){yield Oe(n.value);for(let i of t)yield Oe(i);return}throw Sr(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(Symbol.asyncIterator in e){let t=e[Symbol.asyncIterator](),n=await t.next();if(n.done)return t;if(n.value instanceof zs||n.value instanceof String||typeof n.value=="string"){yield Oe({cid:n.value});for await(let i of t)yield Oe({cid:i});return}if(n.value.cid!=null||n.value.path!=null){yield Oe(n.value);for await(let i of t)yield Oe(i);return}throw Sr(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}throw Sr(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")};function Oe(r){let e=r.cid||`${r.path}`;if(!e)throw Sr(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");let t={path:e,recursive:r.recursive!==!1};return r.metadata!=null&&(t.metadata=r.metadata),t}});var Gs=u((GP,Dg)=>{"use strict";var{CID:Rg}=(q(),T),p3=m(),m3=Hs(),g3=g();Dg.exports=p3(r=>{async function*e(t,n={}){for await(let{path:i,recursive:s,metadata:o}of m3(t)){let c=await r.post("pin/add",{timeout:n.timeout,signal:n.signal,searchParams:g3({...n,arg:i,recursive:s,metadata:o?JSON.stringify(o):void 0,stream:!0}),headers:n.headers});for await(let a of c.ndjson()){if(a.Pins){for(let l of a.Pins)yield Rg.parse(l);continue}yield Rg.parse(a)}}}return e})});var Fg=u((VP,vg)=>{"use strict";var y3=Gs(),w3=yr(),b3=m();vg.exports=r=>{let e=y3(r);return b3(()=>{async function t(n,i={}){return w3(e([{path:n,...i}],i))}return t})(r)}});var Mg=u((WP,jg)=>{"use strict";var{CID:E3}=(q(),T),S3=m(),_3=g();function kg(r,e,t){let n={type:r,cid:E3.parse(e)};return t&&(n.metadata=t),n}jg.exports=S3(r=>{async function*e(t={}){let n=[];t.paths&&(n=Array.isArray(t.paths)?t.paths:[t.paths]);let i=await r.post("pin/ls",{timeout:t.timeout,signal:t.signal,searchParams:_3({...t,arg:n.map(s=>`${s}`),stream:!0}),headers:t.headers});for await(let s of i.ndjson()){if(s.Keys){for(let o of Object.keys(s.Keys))yield kg(s.Keys[o].Type,o,s.Keys[o].Metadata);return}yield kg(s.Type,s.Cid,s.Metadata)}}return e})});var Vs=u((KP,zg)=>{"use strict";var{CID:$g}=(q(),T),x3=m(),I3=Hs(),B3=g();zg.exports=x3(r=>{async function*e(t,n={}){for await(let{path:i,recursive:s}of I3(t)){let o=new URLSearchParams(n.searchParams);o.append("arg",`${i}`),s!=null&&o.set("recursive",String(s));let c=await r.post("pin/rm",{timeout:n.timeout,signal:n.signal,headers:n.headers,searchParams:B3({...n,arg:`${i}`,recursive:s})});for await(let a of c.ndjson()){if(a.Pins){yield*a.Pins.map(l=>$g.parse(l));continue}yield $g.parse(a)}}}return e})});var Gg=u((YP,Hg)=>{"use strict";var q3=Vs(),A3=yr(),T3=m();Hg.exports=r=>{let e=q3(r);return T3(()=>{async function t(n,i={}){return A3(e([{path:n,...i}],i))}return t})(r)}});var Wg=u((XP,Vg)=>{"use strict";var P3=Ug();Vg.exports=r=>({add:Fg()(r),addAll:Gs()(r),ls:Mg()(r),rm:Gg()(r),rmAll:Vs()(r),remote:new P3(r)})});var Yg=u((JP,Kg)=>{"use strict";var C3=F(),N3=m(),O3=g();Kg.exports=N3(r=>{async function*e(t,n={}){yield*(await r.post("ping",{timeout:n.timeout,signal:n.signal,searchParams:O3({arg:`${t}`,...n}),headers:n.headers,transform:C3})).ndjson()}return e})});var Zg=u((ZP,Jg)=>{"use strict";var{AbortController:U3}=Q(),Xg=class{constructor(){this._subs=new Map}subscribe(e,t,n){let i=this._subs.get(e)||[];if(i.find(o=>o.handler===t))throw new Error(`Already subscribed to ${e} with this handler`);let s=new U3;return this._subs.set(e,[{handler:t,controller:s}].concat(i)),n&&n.addEventListener("abort",()=>this.unsubscribe(e,t)),s.signal}unsubscribe(e,t){let n=this._subs.get(e)||[],i;t?(this._subs.set(e,n.filter(s=>s.handler!==t)),i=n.filter(s=>s.handler===t)):(this._subs.set(e,[]),i=n),(this._subs.get(e)||[]).length||this._subs.delete(e),i.forEach(s=>s.controller.abort())}};Jg.exports=Xg});var ey=u((QP,Qg)=>{"use strict";var L3=m(),R3=g();Qg.exports=L3(r=>{async function e(t={}){let{Strings:n}=await(await r.post("pubsub/ls",{timeout:t.timeout,signal:t.signal,searchParams:R3(t),headers:t.headers})).json();return n||[]}return e})});var ry=u((eC,ty)=>{"use strict";var D3=m(),v3=g();ty.exports=D3(r=>{async function e(t,n={}){let i=await r.post("pubsub/peers",{timeout:n.timeout,signal:n.signal,searchParams:v3({arg:t,...n}),headers:n.headers}),{Strings:s}=await i.json();return s||[]}return e})});var iy=u((tC,ny)=>{"use strict";var F3=m(),k3=g(),j3=Ae(),M3=Te(),{AbortController:$3}=Q();ny.exports=F3(r=>{async function e(t,n,i={}){let s=k3({arg:t,...i}),o=new $3,c=M3(o.signal,i.signal);await(await r.post("pubsub/pub",{timeout:i.timeout,signal:c,searchParams:s,...await j3(n,o,i.headers)})).text()}return e})});var oy=u((rC,sy)=>{"use strict";var Ws=Bt(),z3=ut(),H3=zi()("ipfs-http-client:pubsub:subscribe"),G3=m(),V3=g();sy.exports=(r,e)=>G3(t=>{async function n(i,s,o={}){o.signal=e.subscribe(i,s,o.signal);let c,a,l=new Promise((h,w)=>{c=h,a=w}),f=setTimeout(()=>c(),1e3);return setTimeout(()=>{t.post("pubsub/sub",{timeout:o.timeout,signal:o.signal,searchParams:V3({arg:i,...o}),headers:o.headers}).catch(h=>{e.unsubscribe(i,s),a(h)}).then(h=>{clearTimeout(f),!!h&&(W3(h,{onMessage:s,onEnd:()=>e.unsubscribe(i,s),onError:o.onError}),c())})},0),l}return n})(r);async function W3(r,{onMessage:e,onEnd:t,onError:n}){n=n||H3;try{for await(let i of r.ndjson())try{if(!i.from)continue;e({from:z3(Ws(i.from,"base64pad"),"base58btc"),data:Ws(i.data,"base64pad"),seqno:Ws(i.seqno,"base64pad"),topicIDs:i.topicIDs})}catch(s){s.message=`Failed to parse pubsub message: ${s.message}`,n(s,!1,i)}}catch(i){K3(i)||n(i,!0)}finally{t()}}var K3=r=>{switch(r.type){case"aborted":return!0;case"abort":return!0;default:return r.name==="AbortError"}}});var cy=u((nC,ay)=>{"use strict";ay.exports=(r,e)=>{async function t(n,i){e.unsubscribe(n,i)}return t}});var ly=u((iC,uy)=>{"use strict";var Y3=Zg();uy.exports=r=>{let e=new Y3;return{ls:ey()(r),peers:ry()(r),publish:iy()(r),subscribe:oy()(r,e),unsubscribe:cy()(r,e)}}});var hy=u((sC,fy)=>{"use strict";var X3=F(),J3=m(),Z3=g();fy.exports=J3(r=>{async function*e(t={}){yield*(await r.post("refs/local",{timeout:t.timeout,signal:t.signal,transform:X3,searchParams:Z3(t),headers:t.headers})).ndjson()}return e})});var py=u((oC,dy)=>{"use strict";var{CID:Q3}=(q(),T),eI=F(),tI=m(),rI=g();dy.exports=tI((r,e)=>Object.assign(async function*(n,i={}){let s=Array.isArray(n)?n:[n];yield*(await r.post("refs",{timeout:i.timeout,signal:i.signal,searchParams:rI({arg:s.map(c=>`${c instanceof Uint8Array?Q3.decode(c):c}`),...i}),headers:i.headers,transform:eI})).ndjson()},{local:hy()(e)}))});var gy=u((aC,my)=>{"use strict";var{CID:nI}=(q(),T),iI=m(),sI=g();my.exports=iI(r=>{async function*e(t={}){yield*(await r.post("repo/gc",{timeout:t.timeout,signal:t.signal,searchParams:sI(t),headers:t.headers,transform:i=>({err:i.Error?new Error(i.Error):null,cid:(i.Key||{})["/"]?nI.parse(i.Key["/"]):null})})).ndjson()}return e})});var Ks=u((cC,yy)=>{"use strict";var oI=m(),aI=g();yy.exports=oI(r=>{async function e(t={}){let i=await(await r.post("repo/stat",{timeout:t.timeout,signal:t.signal,searchParams:aI(t),headers:t.headers})).json();return{numObjects:BigInt(i.NumObjects),repoSize:BigInt(i.RepoSize),repoPath:i.RepoPath,version:i.Version,storageMax:BigInt(i.StorageMax)}}return e})});var by=u((uC,wy)=>{"use strict";var cI=m(),uI=g();wy.exports=cI(r=>{async function e(t={}){return(await(await r.post("repo/version",{timeout:t.timeout,signal:t.signal,searchParams:uI(t),headers:t.headers})).json()).Version}return e})});var Sy=u((lC,Ey)=>{"use strict";Ey.exports=r=>({gc:gy()(r),stat:Ks()(r),version:by()(r)})});var xy=u((fC,_y)=>{"use strict";var lI=m(),fI=g();_y.exports=lI(r=>{async function e(t,n={}){let i=await r.post("resolve",{timeout:n.timeout,signal:n.signal,searchParams:fI({arg:t,...n}),headers:n.headers}),{Path:s}=await i.json();return s}return e})});var By=u((hC,Iy)=>{"use strict";var hI=m();Iy.exports=hI(r=>async(t={})=>{throw new Error("Not implemented")})});var Ay=u((dC,qy)=>{"use strict";var dI=m(),pI=g();qy.exports=dI(r=>{async function*e(t={}){yield*(await r.post("stats/bw",{timeout:t.timeout,signal:t.signal,searchParams:pI(t),headers:t.headers,transform:i=>({totalIn:BigInt(i.TotalIn),totalOut:BigInt(i.TotalOut),rateIn:BigInt(i.RateIn),rateOut:BigInt(i.RateOut)})})).ndjson()}return e})});var Py=u((pC,Ty)=>{"use strict";Ty.exports=r=>({bitswap:ms()(r),bw:Ay()(r),repo:Ks()(r)})});var Ny=u((mC,Cy)=>{"use strict";var mI=m(),gI=g();Cy.exports=mI(r=>{async function e(t={}){await(await r.post("shutdown",{timeout:t.timeout,signal:t.signal,searchParams:gI(t),headers:t.headers})).text()}return e})});var Uy=u((gC,Oy)=>{"use strict";var{Multiaddr:yI}=z(),wI=m(),bI=g();Oy.exports=wI(r=>{async function e(t={}){let n=await r.post("swarm/addrs",{timeout:t.timeout,signal:t.signal,searchParams:bI(t),headers:t.headers}),{Addrs:i}=await n.json();return Object.keys(i).map(s=>({id:s,addrs:(i[s]||[]).map(o=>new yI(o))}))}return e})});var Ry=u((yC,Ly)=>{"use strict";var EI=m(),SI=g();Ly.exports=EI(r=>{async function e(t,n={}){let i=await r.post("swarm/connect",{timeout:n.timeout,signal:n.signal,searchParams:SI({arg:t,...n}),headers:n.headers}),{Strings:s}=await i.json();return s||[]}return e})});var vy=u((wC,Dy)=>{"use strict";var _I=m(),xI=g();Dy.exports=_I(r=>{async function e(t,n={}){let i=await r.post("swarm/disconnect",{timeout:n.timeout,signal:n.signal,searchParams:xI({arg:t,...n}),headers:n.headers}),{Strings:s}=await i.json();return s||[]}return e})});var ky=u((bC,Fy)=>{"use strict";var{Multiaddr:II}=z(),BI=m(),qI=g();Fy.exports=BI(r=>{async function e(t={}){let n=await r.post("swarm/addrs/local",{timeout:t.timeout,signal:t.signal,searchParams:qI(t),headers:t.headers}),{Strings:i}=await n.json();return(i||[]).map(s=>new II(s))}return e})});var My=u((EC,jy)=>{"use strict";var{Multiaddr:AI}=z(),TI=m(),PI=g();jy.exports=TI(r=>{async function e(t={}){let n=await r.post("swarm/peers",{timeout:t.timeout,signal:t.signal,searchParams:PI(t),headers:t.headers}),{Peers:i}=await n.json();return(i||[]).map(s=>({addr:new AI(s.Addr),peer:s.Peer,muxer:s.Muxer,latency:s.Latency,streams:s.Streams,direction:s.Direction==null?void 0:s.Direction===0?"inbound":"outbound"}))}return e})});var zy=u((SC,$y)=>{"use strict";$y.exports=r=>({addrs:Uy()(r),connect:Ry()(r),disconnect:vy()(r),localAddrs:ky()(r),peers:My()(r)})});var Gy=u((_C,Hy)=>{"use strict";var CI=F(),NI=m(),OI=g();Hy.exports=NI(r=>{async function e(t={}){let n=await r.post("version",{timeout:t.timeout,signal:t.signal,searchParams:OI(t),headers:t.headers});return CI(await n.json())}return e})});var KI=u((xC,Vy)=>{"use strict";var{CID:UI}=(q(),T),{multiaddr:LI}=z(),RI=Ia(),DI=fc(),vI=pc(),FI=yc(),kI=Ec(),jI=(Rc(),Lc),MI=(Yu(),Ku),$I=(Wn(),Dr),zI=(Kn(),vr),{sha256:HI,sha512:GI}=(Gn(),Lr),{identity:Ys}=(Vn(),Rr),{base58btc:VI}=(St(),Et);function WI(r={}){let e={name:Ys.name,code:Ys.code,encode:o=>o,decode:o=>o},t=new kI({bases:[VI].concat(r.ipld&&r.ipld.bases?r.ipld.bases:[]),loadBase:r.ipld&&r.ipld.loadBase}),n=new vI({codecs:[jI,MI,$I,zI,e].concat(r.ipld?.codecs||[]),loadCodec:r.ipld&&r.ipld.loadCodec}),i=new FI({hashers:[HI,GI,Ys].concat(r.ipld&&r.ipld.hashers?r.ipld.hashers:[]),loadHasher:r.ipld&&r.ipld.loadHasher});return{add:Kf()(r),addAll:ps()(r),bitswap:nh()(r),block:hh()(r),bootstrap:Ih()(r),cat:qh()(r),commands:Th()(r),config:Hh()(r),dag:ad()(n,r),dht:_d()(r),diag:Cd()(r),dns:Od()(r),files:cp()(r),get:im()(r),getEndpointConfig:om()(r),id:js()(r),isOnline:um()(r),key:Bm()(r),log:Um()(r),ls:Dm()(r),mount:Fm()(r),name:Zm()(r),object:Ig()(n,r),pin:Wg()(r),ping:Yg()(r),pubsub:ly()(r),refs:py()(r),repo:Sy()(r),resolve:xy()(r),start:By()(r),stats:Py()(r),stop:Ny()(r),swarm:zy()(r),version:Gy()(r),bases:t,codecs:n,hashers:i}}Vy.exports={create:WI,CID:UI,multiaddr:LI,globSource:RI,urlSource:DI}});return KI();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
return IpfsHttpClient}));
